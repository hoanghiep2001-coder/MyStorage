{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Options/PA_11/PA_11_CharHealth.ts"],"names":["_decorator","Component","Node","size","UITransform","GameInfo","ccclass","property","PA_11_CharHealth","start","scheduleOnce","isActiveDecreaseHealth","node","getChildByName","active","handleDecreaseHealth","currentNodeHeight","isCanTouch","GTA_PA_11","isCharacterDead","HealthNode","getComponent","setContentSize","update","dt"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;;AACnCC,MAAAA,Q,iBAAAA,Q;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;kCAIjBQ,gB,WADZF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAACL,IAAD,C,oCAFb,MACaM,gBADb,SACsCP,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA,qDAIhB,GAJgB;;AAAA,0DAMV,KANU;AAAA;;AASlCQ,QAAAA,KAAK,GAAS;AACpB,eAAKC,YAAL,CAAkB,MAAM;AACpB,iBAAKC,sBAAL,GAA8B,IAA9B;AACA,iBAAKC,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCC,MAApC,GAA6C,KAA7C;AACH,WAHD,EAGG,GAHH;AAIH;;AAGOC,QAAAA,oBAAoB,GAAS;AACjC,cAAG,KAAKC,iBAAL,IAA0B,CAA7B,EAAgC;AAC5B;AAAA;AAAA,sCAASC,UAAT,GAAsB,KAAtB;AACA,iBAAKN,sBAAL,GAA8B,KAA9B;AACA;AAAA;AAAA,sCAASO,SAAT,CAAmBC,eAAnB,GAAqC,IAArC;AACA;AACH;;AACD,eAAKH,iBAAL,IAA0B,CAA1B;AACA,eAAKI,UAAL,CAAgBC,YAAhB,CAA6BjB,WAA7B,EAA0CkB,cAA1C,CAAyDnB,IAAI,CAAC,GAAD,EAAM,KAAKa,iBAAX,CAA7D;AACH;;AAGSO,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,cAAG,KAAKb,sBAAR,EAAgC,KAAKI,oBAAL;AACnC;;AA/B2C,O;;;;;iBAEzB,I;;;AAgCvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, size, UITransform } from 'cc';\nimport { GameInfo } from '../../CONST/GameInfo';\nconst { ccclass, property } = _decorator;\n\n \n@ccclass('PA_11_CharHealth')\nexport class PA_11_CharHealth extends Component {\n    @property(Node)\n    HealthNode: Node = null;\n\n    currentNodeHeight: number = 100;\n    \n    isActiveDecreaseHealth: boolean = false;\n\n\n    protected start(): void {\n        this.scheduleOnce(() => {\n            this.isActiveDecreaseHealth = true;\n            this.node.getChildByName(\"Overlay\").active = false;\n        }, 0.8)\n    }\n\n\n    private handleDecreaseHealth(): void {\n        if(this.currentNodeHeight <= 0) {\n            GameInfo.isCanTouch = false;\n            this.isActiveDecreaseHealth = false;\n            GameInfo.GTA_PA_11.isCharacterDead = true;\n            return;\n        }\n        this.currentNodeHeight -= 1;\n        this.HealthNode.getComponent(UITransform).setContentSize(size(100, this.currentNodeHeight))\n    }\n\n\n    protected update(dt: number): void {\n        if(this.isActiveDecreaseHealth) this.handleDecreaseHealth();\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}
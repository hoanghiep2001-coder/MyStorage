{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Controller/SoundController.ts"],"names":["_decorator","AudioSource","Singleton","ccclass","property","SoundController","constructor","_instance","onLoad","start","sounds","node","getComponentsInChildren","window","gameReady","playSound","soundName","result","find","sound","name","volume","play","muteSound","isMuted","stopSound","stop","stopAllSound","forEach"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,W,OAAAA,W;;AACzBC,MAAAA,S;;;;;;;OAED;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;iCAIjBK,e,WADZF,OAAO,CAAC,iBAAD,C,yBAAR,MACaE,eADb;AAAA;AAAA,kCACgE;AAI5DC,QAAAA,WAAW,GAAG;AACV;;AADU,0CAFiB,EAEjB;;AAEVD,UAAAA,eAAe,CAACE,SAAhB,GAA4B,IAA5B;AACH;;AAGSC,QAAAA,MAAM,GAAS,CAExB;;AAGSC,QAAAA,KAAK,GAAS;AACpB,eAAKC,MAAL,GAAc,KAAKC,IAAL,CAAUC,uBAAV,CAAkCX,WAAlC,CAAd;AAEAY,UAAAA,MAAM,CAACC,SAAP,IAAoBD,MAAM,CAACC,SAAP,EAApB;AAEH;;AAGMC,QAAAA,SAAS,CAACC,SAAD,EAA0B;AACtC;AACA,cAAIC,MAAM,GAAG,KAAKP,MAAL,CAAYQ,IAAZ,CAAiBC,KAAK,IAAIA,KAAK,CAACR,IAAN,CAAWS,IAAX,KAAoBJ,SAA9C,CAAb;AACAC,UAAAA,MAAM,CAACI,MAAP,GAAgB,CAAhB;AACAJ,UAAAA,MAAM,CAACK,IAAP,GAJsC,CAKtC;AACH;;AAGMC,QAAAA,SAAS,CAACP,SAAD,EAAoBQ,OAApB,EAA4C;AACxD,cAAIP,MAAM,GAAG,KAAKP,MAAL,CAAYQ,IAAZ,CAAiBC,KAAK,IAAIA,KAAK,CAACR,IAAN,CAAWS,IAAX,KAAoBJ,SAA9C,CAAb;AACA,cAAIQ,OAAJ,EAAaP,MAAM,CAACI,MAAP,GAAgB,CAAhB,CAAb,KACKJ,MAAM,CAACI,MAAP,GAAgB,CAAhB;AACR;;AAGMI,QAAAA,SAAS,CAACT,SAAD,EAA0B;AACtC,cAAIC,MAAM,GAAG,KAAKP,MAAL,CAAYQ,IAAZ,CAAiBC,KAAK,IAAIA,KAAK,CAACR,IAAN,CAAWS,IAAX,KAAoBJ,SAA9C,CAAb;AACAC,UAAAA,MAAM,CAACS,IAAP;AACH;;AAGMC,QAAAA,YAAY,GAAS;AACxB,eAAKjB,MAAL,CAAYkB,OAAZ,CAAoBT,KAAK,IAAIA,KAAK,CAACO,IAAN,EAA7B;AACH;;AA/C2D,O","sourcesContent":["import { _decorator, AudioClip, AudioSource, Component, log, Node } from 'cc';\nimport Singleton from '../Others/Singleton';\n\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('SoundController')\nexport class SoundController extends Singleton<SoundController> {\n\n    public sounds: AudioSource[] = [];\n\n    constructor() {\n        super();\n        SoundController._instance = this;\n    }\n\n\n    protected onLoad(): void {\n\n    }\n\n\n    protected start(): void {\n        this.sounds = this.node.getComponentsInChildren(AudioSource);\n\n        window.gameReady && window.gameReady();\n\n    }\n\n\n    public playSound(soundName: string): void {\n        // if (Constants.ironSource.SoundState && !Constants.ironSource.isEndGame) {\n        let result = this.sounds.find(sound => sound.node.name === soundName);\n        result.volume = 1;\n        result.play();\n        // }\n    }\n\n\n    public muteSound(soundName: string, isMuted: boolean): void {\n        let result = this.sounds.find(sound => sound.node.name === soundName);\n        if (isMuted) result.volume = 0;\n        else result.volume = 1;\n    }\n\n\n    public stopSound(soundName: string): void {\n        let result = this.sounds.find(sound => sound.node.name === soundName);\n        result.stop();\n    }\n\n\n    public stopAllSound(): void {\n        this.sounds.forEach(sound => sound.stop());\n    }\n}"]}
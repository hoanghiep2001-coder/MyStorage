{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Options/PA_11/PA_11_Character.ts"],"names":["_decorator","Component","easing","SkeletalAnimation","tween","Vec3","GameInfo","SoundController","ccclass","property","PA_11_Character","start","setAimingAnim","isAiming","node","getComponent","play","setCrouchAnim","handleRotateCharacter","isRotateCharacter","newEuleurs","newPos","to","eulerAngles","position","smooth","call","isCanTouch","dead","isDead","Instance","playSound","scheduleOnce","GTA_PA_11","isShowInstallPopup","update","dt","isDoneRotateCamera","isCharacterDead"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAcC,MAAAA,iB,OAAAA,iB;AAAmBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAC/DC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,e,iBAAAA,e;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;iCAGaU,e,WADZF,OAAO,CAAC,iBAAD,C,yBAAR,MACaE,eADb,SACqCT,SADrC,CAC+C;AAAA;AAAA;;AAAA,qDAEd,KAFc;;AAAA,4CAGvB,KAHuB;;AAAA,0CAIzB,KAJyB;AAAA;;AAOjCU,QAAAA,KAAK,GAAS,CAEvB;;AAGMC,QAAAA,aAAa,GAAS;AACzB,cAAG,KAAKC,QAAR,EAAkB;AAClB,eAAKA,QAAL,GAAgB,IAAhB;AACA,eAAKC,IAAL,CAAUC,YAAV,CAAuBZ,iBAAvB,EAA0Ca,IAA1C,CAA+C,mBAA/C;AACH;;AAGMC,QAAAA,aAAa,GAAS;AACzB,eAAKJ,QAAL,GAAgB,KAAhB;AACA,eAAKC,IAAL,CAAUC,YAAV,CAAuBZ,iBAAvB,EAA0Ca,IAA1C,CAA+C,kBAA/C;AACH;;AAGOE,QAAAA,qBAAqB,GAAS;AAClC,eAAKC,iBAAL,GAAyB,IAAzB;AAEA,cAAMC,UAAU,GAAG,IAAIf,IAAJ,CAAS,CAAT,EAAY,EAAZ,EAAgB,CAAhB,CAAnB;AACA,cAAMgB,MAAM,GAAG,IAAIhB,IAAJ,CAAS,OAAT,EAAkB,KAAlB,EAAyB,CAAC,OAA1B,CAAf;AAEA,eAAKS,IAAL,CAAUC,YAAV,CAAuBZ,iBAAvB,EAA0Ca,IAA1C,CAA+C,UAA/C;AAEAZ,UAAAA,KAAK,CAAC,KAAKU,IAAN,CAAL,CACCQ,EADD,CACI,GADJ,EACS;AAACC,YAAAA,WAAW,EAAEH,UAAd;AAA0BI,YAAAA,QAAQ,EAAEH;AAApC,WADT,EACsD;AAACnB,YAAAA,MAAM,EAAEA,MAAM,CAACuB;AAAhB,WADtD,EAECC,IAFD,CAEM,MAAM;AACR,iBAAKT,aAAL;AACA;AAAA;AAAA,sCAASU,UAAT,GAAsB,IAAtB;AACH,WALD,EAMChB,KAND;AAOH;;AAGOiB,QAAAA,IAAI,GAAS;AACjB,eAAKC,MAAL,GAAc,IAAd;AACA,eAAKf,IAAL,CAAUC,YAAV,CAAuBZ,iBAAvB,EAA0Ca,IAA1C,CAA+C,OAA/C;AACA;AAAA;AAAA,kDAAgBc,QAAhB;AAAA;AAAA,kDAA0CC,SAA1C,CAAoD,WAApD;AAEA,eAAKC,YAAL,CAAkB,MAAM;AACpB;AAAA;AAAA,sCAASC,SAAT,CAAmBC,kBAAnB,GAAwC,IAAxC;AACH,WAFD,EAEG,GAFH;AAGH;;AAGSC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B;AAAA;AAAA,oCAASH,SAAT,CAAmBI,kBAAnB,IAAyC,CAAC,KAAKlB,iBAA/C,IAAoE,KAAKD,qBAAL,EAApE;AACA;AAAA;AAAA,oCAASe,SAAT,CAAmBK,eAAnB,IAAsC,CAAC,KAAKT,MAA5C,IAAsD,KAAKD,IAAL,EAAtD;AACH;;AAzD0C,O;AA6D/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { _decorator, Component, easing, Node, SkeletalAnimation, tween, Vec3 } from 'cc';\nimport { GameInfo } from '../../CONST/GameInfo';\nimport { SoundController } from '../../Controller/SoundController';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = PA_10_Character\n * DateTime = Wed Dec 25 2024 09:21:14 GMT+0700 (Indochina Time)\n * Author = hoanghiep2001\n * FileBasename = PA_10_Character.ts\n * FileBasenameNoExtension = PA_10_Character\n * URL = db://assets/scripts/Options/PA_10/PA_10_Character.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('PA_11_Character')\nexport class PA_11_Character extends Component {\n\n    isRotateCharacter: boolean = false;\n    isAiming: boolean = false;\n    isDead: boolean = false;\n\n\n    protected start(): void {\n        \n    }\n\n\n    public setAimingAnim(): void {\n        if(this.isAiming) return;\n        this.isAiming = true;\n        this.node.getComponent(SkeletalAnimation).play(\"Character_StandUp\");\n    }\n\n\n    public setCrouchAnim(): void {\n        this.isAiming = false;\n        this.node.getComponent(SkeletalAnimation).play(\"Character_Crouch\");\n    }\n\n\n    private handleRotateCharacter(): void {\n        this.isRotateCharacter = true;\n\n        const newEuleurs = new Vec3(0, 30, 0);\n        const newPos = new Vec3(672.076, 8.114, -126.065)\n\n        this.node.getComponent(SkeletalAnimation).play(\"main_run\");\n\n        tween(this.node)\n        .to(0.3, {eulerAngles: newEuleurs, position: newPos}, {easing: easing.smooth})\n        .call(() => {\n            this.setCrouchAnim();\n            GameInfo.isCanTouch = true;\n        })\n        .start();\n    }\n\n\n    private dead(): void {\n        this.isDead = true;\n        this.node.getComponent(SkeletalAnimation).play(\"Death\");\n        SoundController.Instance(SoundController).playSound(\"DeadSound\");\n\n        this.scheduleOnce(() => {\n            GameInfo.GTA_PA_11.isShowInstallPopup = true;\n        }, 1.5)\n    }\n\n\n    protected update(dt: number): void {\n        GameInfo.GTA_PA_11.isDoneRotateCamera && !this.isRotateCharacter && this.handleRotateCharacter()\n        GameInfo.GTA_PA_11.isCharacterDead && !this.isDead && this.dead();\n    }\n\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}
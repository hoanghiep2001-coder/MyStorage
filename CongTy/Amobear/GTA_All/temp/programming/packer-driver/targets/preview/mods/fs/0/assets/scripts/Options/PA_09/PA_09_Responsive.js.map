{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Options/PA_09/PA_09_Responsive.ts"],"names":["_decorator","Component","Node","screen","GameInfo","ccclass","property","PA_09_Responsive","start","handleRotate","windowSize","width","height","isRotate","LandScape_UI","active","Portrait_UI","setHorizontal","setVertical","setHorizontalForIpX","setHorizontalForTablet","HORIZONTAL_IPX","device","CTA","setScale","HORIZONTAL_TABLET","setIphoneX","setMobile","VERTICAL_IPX","UI_Brake","setPosition","VERTICAL_MOBILE","update","dt"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, screen } from 'cc';\nimport { GameInfo } from '../../CONST/GameInfo';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PA_09_Responsive')\nexport class PA_09_Responsive extends Component {\n\n    @property(Node)\n    LandScape_UI: Node = null;\n    @property(Node)\n    Portrait_UI: Node = null;\n    @property(Node)\n    UI_Brake: Node = null;\n    @property(Node)\n    CTA: Node = null;\n\n    device: string = \"\";\n    isRotate: boolean = false;\n\n    HORIZONTAL_IPX: string = \"horizontal_IPX\";\n    HORIZONTAL_TABLET: string = \"horizontal_Tablet\";\n    VERTICAL_IPX: string = \"vertical_IPX\";\n    VERTICAL_MOBILE: string = \"vertical_Mobile\";\n\n\n    protected start(): void {\n        this.handleRotate();\n    }\n\n\n    private handleRotate(): void {\n        if (screen.windowSize.width > screen.windowSize.height) {\n            GameInfo.isRotate = true;\n            this.isRotate = true;\n            this.LandScape_UI.active = true;\n            this.Portrait_UI.active = false;\n            this.setHorizontal();\n        } else {\n            GameInfo.isRotate = false;\n            this.isRotate = false;\n            this.LandScape_UI.active = false;\n            this.Portrait_UI.active = true;\n            this.setVertical();\n        }\n    }\n\n\n    private setHorizontal(): void {\n        if (screen.windowSize.height / screen.windowSize.width < 0.65) {\n            // Iphone 6 / 6 plus / 7 / 7 Plus / X\n            this.setHorizontalForIpX();\n        } else {\n            this.setHorizontalForTablet();\n        }\n    }\n\n\n    private setHorizontalForIpX(): void {\n        if (this.HORIZONTAL_IPX === this.device) {\n            return;\n        }\n\n        this.device = this.HORIZONTAL_IPX;\n\n        // IP X\n        if (screen.windowSize.height / screen.windowSize.width < 0.47) {\n            this.CTA.setScale(2.2, 2.2, 2.2);\n        }\n\n        // IP 6 / 7 / 8\n        else {\n            this.CTA.setScale(2.2, 2.2, 2.2);\n        }\n    }\n\n\n    private setHorizontalForTablet(): void {\n        if (this.HORIZONTAL_TABLET === this.device) {\n            return;\n        }\n\n        this.device = this.HORIZONTAL_TABLET;\n\n        this.CTA.setScale(2.2, 2.2, 2.2);\n        // if (screen.windowSize.width / screen.windowSize.height < 0.7) {\n\n        //     // Iphone 6 / 6 plus / 7 / 7 Plus\n\n        // } else {    \n\n        //     // Ipad\n        // }\n\n    }\n\n\n    private setVertical(): void {\n        if (screen.windowSize.width / screen.windowSize.height < 0.5) {\n            this.setIphoneX();\n        } else {\n            this.setMobile();\n        }\n    }\n\n    private setIphoneX(): void {\n        if (this.VERTICAL_IPX === this.device) {\n            return;\n        }\n\n        this.device = this.VERTICAL_IPX;\n        \n        this.CTA.setScale(4.4, 4.4, 2.2);\n        this.UI_Brake.setPosition(-729.138, -352.886, 0);\n    }\n\n\n    private setMobile(): void {\n        if (this.VERTICAL_MOBILE === this.device) {\n            return;\n        }\n\n        this.device = this.VERTICAL_MOBILE;\n\n        let width = screen.windowSize.width;\n        let height = screen.windowSize.height;\n\n        if (height / width > 1.5) {\n            // if (width / height >= 0.6 && width / height < 0.62) {\n            //     // mobile mode applovin\n\n            //     return;\n            // }\n\n            // Iphone 6 / 6 Plus / 7 / 7 Plus   \n            this.CTA.setScale(4.4,4.4, 2.2);\n            this.UI_Brake.setPosition(-729.138, -352.886, 0);\n        } else {\n            this.CTA.setScale(4.4,4.4, 2.2);\n            this.UI_Brake.setPosition(-729.138, -150, 0);\n        }\n\n        // if (screen.windowSize.width / screen.windowSize.height < 0.7) {\n        //     // Iphone 6 / 6 plus / 7 / 7 Plus\n\n        // } else {\n        //     // Ipad\n        // }\n    }\n\n\n    protected update(dt: number): void {\n        this.handleRotate();\n    }\n\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}
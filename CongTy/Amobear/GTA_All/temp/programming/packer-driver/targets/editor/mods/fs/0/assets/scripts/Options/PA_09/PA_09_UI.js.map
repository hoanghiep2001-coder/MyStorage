{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Options/PA_09/PA_09_UI.ts"],"names":["_decorator","Component","easing","Node","tween","Vec3","SoundController","GameInfo","Responsive","ccclass","property","PA_09_UI","start","activeCheckPoint_1","isActiveCheckPoint_1","checkPoint_1","active","UI_MoveCar","forEach","ui","activeTut_1","Tut_1s","item","isActiveTut_1","Instance","playSound","activeCinematic","tut","mainCam","Camera_3","isActiveCinematic","scheduleOnce","policeCars","to","position","moto_2","smooth","call","UI_Blink","vfx_fireBall","getChildByName","stopSound","showNPC","npc","Camera_4","activeTutGetReward","isActiveTutReward","Tut_getRewards","showCTA","isShowCTA","CTA","responsive","update","dt","GTA_PA_08","isRidingMoto","isTouchCheckPointFlag","isHitDogeCopsBtn","GTA_PA_09","isCharacterArrivedReWard"],"mappings":"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","sourcesContent":["import { _decorator, Component, easing, log, Node, ParticleSystem, screen, tween, Vec3 } from 'cc';\nimport { SoundController } from '../../Controller/SoundController';\nimport { GameInfo } from '../../CONST/GameInfo';\nimport { Responsive } from '../../Others/Responsive';\n\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('PA_09_UI')\nexport class PA_09_UI extends Component {\n\n    @property(Responsive)\n    ResponsiveComp: Responsive = null;\n\n\n    @property(Node)\n    mainCam: Node = null;\n\n    @property(Node)\n    Camera_3: Node = null;\n\n    @property(Node)\n    Camera_4: Node = null;\n\n    @property(Node)\n    UI_Blink: Node = null;\n\n    @property(Node)\n    moto_2: Node = null;\n\n    @property(Node)\n    npc: Node = null;\n\n    @property([Node])\n    policeCars: Node[] = [];\n\n    @property(Node)\n    checkPoint_1: Node = null;\n\n    @property([Node])\n    UI_MoveCar: Node[] = [];\n\n    @property([Node])\n    Tut_1s: Node[] = [];\n\n    @property([Node])\n    Tut_getRewards: Node[] = [];\n\n    @property(Node)\n    CTA: Node = null;\n\n\n\n\n    isActiveCheckPoint_1: boolean = false;\n    isActiveTut_1: boolean = false;\n    isActiveCinematic: boolean = false;\n    isActiveTutReward: boolean = false;\n    isShowCTA: boolean = false;\n\n\n    protected start(): void {\n\n    }\n\n\n    private activeCheckPoint_1(): void {\n        this.isActiveCheckPoint_1 = true;\n        this.checkPoint_1.active = true;\n        this.UI_MoveCar.forEach(ui => ui.active = true);\n    }\n\n\n    private activeTut_1(): void {\n        this.UI_MoveCar.forEach(ui => ui.active = false);\n        this.Tut_1s.forEach((item) => item.active = true);\n        this.isActiveTut_1 = true;\n        SoundController.Instance(SoundController).playSound(\"PoliceSirenSound\");\n    }\n\n\n    private activeCinematic(): void {\n        this.Tut_1s.forEach(tut => tut.active = false);\n        this.mainCam.active = false;\n        this.Camera_3.active = true;\n        this.isActiveCinematic = true;\n\n        SoundController.Instance(SoundController).playSound(\"brakeSound\");\n\n        this.scheduleOnce(() => {\n            tween(this.policeCars[0])\n                .to(0.5, { position: this.moto_2.position }, { easing: easing.smooth })\n                .call(() => {\n                    this.UI_Blink.active = true;\n                    let vfx_fireBall = this.policeCars[0].getChildByName(\"FireBall\");\n                    vfx_fireBall.active = true;\n                    SoundController.Instance(SoundController).playSound(\"BoomSound\");\n                })\n                .start();\n\n            tween(this.policeCars[1])\n                .to(0.5, { position: this.moto_2.position }, { easing: easing.smooth })\n                .call(() => {\n                    let vfx_fireBall = this.policeCars[1].getChildByName(\"FireBall\");\n                    vfx_fireBall.active = true;\n                    SoundController.Instance(SoundController).playSound(\"BoomSound\");\n                    SoundController.Instance(SoundController).stopSound(\"PoliceSirenSound\");\n\n                    this.showNPC();\n                })\n                .start();\n        }, 0.5)\n\n        // tween(this.moto_2)\n        // .to(0.5, {position: new Vec3(675.776, 8.014, -64.671)}, {easing: easing.smooth})\n        // .call(() => {\n\n        // })\n        // .start();\n    }\n\n\n    private showNPC(): void {\n        this.scheduleOnce(() => {this.npc.active = true;}, 2.5)\n        this.scheduleOnce(() => {\n            this.Camera_3.active = false;\n            this.Camera_4.active = true;\n\n            tween(this.npc)\n                .to(1, { position: new Vec3(628.389, 8.014, -72.974) }, { easing: easing.smooth })\n                .start();\n        }, 3);\n    }\n\n\n    private activeTutGetReward(): void {\n        this.isActiveTutReward = true;\n        this.Tut_getRewards.forEach(tut => tut.active = true);\n    }\n\n\n    private showCTA(): void {\n        this.isShowCTA = true;\n        this.CTA.active = true;\n        this.Tut_getRewards.forEach(tut => tut.active = false);\n    }\n\n\n    private responsive(): void {\n        // landscape\n        // if(screen.windowSize.width > screen.windowSize.height) {\n        //     this.ResponsiveComp.responsiveUIs = [];\n\n        //     let CTA_icon = this.CTA.getChildByName(\"icon (1)\");\n        //     let CTA_Btn = this.CTA.getChildByName(\"2\").children[0];\n\n        //     this.ResponsiveComp.responsiveUIs.push({\n        //         Node: CTA_icon,\n        //         Scale: new Vec3(1, 1, 1),\n        //         Position: new Vec3(0, 66, 0)\n        //     });\n        //     this.ResponsiveComp.responsiveUIs.push({\n        //         Node: CTA_Btn,\n        //         Scale: new Vec3(1, 1, 1),\n        //         Position: new Vec3(0, 0, 0)\n        //     })\n        // }\n    }\n\n\n    protected update(dt: number): void {\n        if (GameInfo.GTA_PA_08.isRidingMoto && !this.isActiveCheckPoint_1)this.activeCheckPoint_1();\n\n        if (GameInfo.GTA_PA_08.isTouchCheckPointFlag && !this.isActiveTut_1) this.activeTut_1();\n\n        if (GameInfo.GTA_PA_08.isHitDogeCopsBtn && !this.isActiveCinematic) this.activeCinematic();\n\n        if(this.npc.active && !this.isActiveTutReward) this.activeTutGetReward();\n\n        if(GameInfo.GTA_PA_09.isCharacterArrivedReWard && !this.isShowCTA) this.showCTA();\n\n        this.responsive();\n    }\n}\n\n"]}
{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Options/PA_08/PA_08_UI.ts"],"names":["_decorator","Component","easing","Node","tween","SoundController","GameInfo","ccclass","property","PA_08_UI","start","activeCheckPoint_1","isActiveCheckPoint_1","checkPoint_1","active","UI_MoveCar","forEach","ui","activeTut_1","Tut_1s","item","isActiveTut_1","Instance","playSound","activeCinematic","tut","mainCam","Camera_3","isActiveCinematic","scheduleOnce","policeCars","to","position","moto_2","smooth","call","UI_Blink","vfx_fireBall","getChildByName","stopSound","CTA","update","dt","GTA_PA_08","isRidingMoto","isTouchCheckPointFlag","isHitDogeCopsBtn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAaC,MAAAA,I,OAAAA,I;AAAsBC,MAAAA,K,OAAAA,K;;AAC1DC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;0BAIjBS,Q,WADZF,OAAO,CAAC,UAAD,C,UAGHC,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAAC,CAACL,IAAD,CAAD,C,UAGRK,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAAC,CAACL,IAAD,CAAD,C,UAGRK,QAAQ,CAAC,CAACL,IAAD,CAAD,C,WAIRK,QAAQ,CAACL,IAAD,C,oCA5Bb,MACaM,QADb,SAC8BR,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,wDA+BJ,KA/BI;;AAAA,iDAgCX,KAhCW;;AAAA,qDAiCP,KAjCO;AAAA;;AAoC1BS,QAAAA,KAAK,GAAS,CAEvB;;AAGOC,QAAAA,kBAAkB,GAAS;AAC/B,eAAKC,oBAAL,GAA4B,IAA5B;AACA,eAAKC,YAAL,CAAkBC,MAAlB,GAA2B,IAA3B;AACA,eAAKC,UAAL,CAAgBC,OAAhB,CAAwBC,EAAE,IAAIA,EAAE,CAACH,MAAH,GAAY,IAA1C;AACH;;AAGOI,QAAAA,WAAW,GAAS;AACxB,eAAKH,UAAL,CAAgBC,OAAhB,CAAwBC,EAAE,IAAIA,EAAE,CAACH,MAAH,GAAY,KAA1C;AACA,eAAKK,MAAL,CAAYH,OAAZ,CAAqBI,IAAD,IAAUA,IAAI,CAACN,MAAL,GAAc,IAA5C;AACA,eAAKO,aAAL,GAAqB,IAArB;AACA;AAAA;AAAA,kDAAgBC,QAAhB;AAAA;AAAA,kDAA0CC,SAA1C,CAAoD,kBAApD;AACH;;AAGOC,QAAAA,eAAe,GAAS;AAC5B,eAAKL,MAAL,CAAYH,OAAZ,CAAoBS,GAAG,IAAIA,GAAG,CAACX,MAAJ,GAAa,KAAxC;AACA,eAAKY,OAAL,CAAaZ,MAAb,GAAsB,KAAtB;AACA,eAAKa,QAAL,CAAcb,MAAd,GAAuB,IAAvB;AACA,eAAKc,iBAAL,GAAyB,IAAzB;AAEA;AAAA;AAAA,kDAAgBN,QAAhB;AAAA;AAAA,kDAA0CC,SAA1C,CAAoD,YAApD;AAEA,eAAKM,YAAL,CAAkB,MAAM;AACpBzB,YAAAA,KAAK,CAAC,KAAK0B,UAAL,CAAgB,CAAhB,CAAD,CAAL,CACCC,EADD,CACI,GADJ,EACS;AAACC,cAAAA,QAAQ,EAAE,KAAKC,MAAL,CAAYD;AAAvB,aADT,EAC2C;AAAC9B,cAAAA,MAAM,EAAEA,MAAM,CAACgC;AAAhB,aAD3C,EAECC,IAFD,CAEM,MAAM;AACR,mBAAKC,QAAL,CAActB,MAAd,GAAuB,IAAvB;AACA,kBAAIuB,YAAY,GAAG,KAAKP,UAAL,CAAgB,CAAhB,EAAmBQ,cAAnB,CAAkC,UAAlC,CAAnB;AACAD,cAAAA,YAAY,CAACvB,MAAb,GAAsB,IAAtB;AACA;AAAA;AAAA,sDAAgBQ,QAAhB;AAAA;AAAA,sDAA0CC,SAA1C,CAAoD,WAApD;AACH,aAPD,EAQCb,KARD;AAUAN,YAAAA,KAAK,CAAC,KAAK0B,UAAL,CAAgB,CAAhB,CAAD,CAAL,CACCC,EADD,CACI,GADJ,EACS;AAACC,cAAAA,QAAQ,EAAE,KAAKC,MAAL,CAAYD;AAAvB,aADT,EAC2C;AAAC9B,cAAAA,MAAM,EAAEA,MAAM,CAACgC;AAAhB,aAD3C,EAECC,IAFD,CAEM,MAAM;AACR,kBAAIE,YAAY,GAAG,KAAKP,UAAL,CAAgB,CAAhB,EAAmBQ,cAAnB,CAAkC,UAAlC,CAAnB;AACAD,cAAAA,YAAY,CAACvB,MAAb,GAAsB,IAAtB;AACA;AAAA;AAAA,sDAAgBQ,QAAhB;AAAA;AAAA,sDAA0CC,SAA1C,CAAoD,WAApD;AACA;AAAA;AAAA,sDAAgBD,QAAhB;AAAA;AAAA,sDAA0CiB,SAA1C,CAAoD,kBAApD;AAEA,mBAAKV,YAAL,CAAkB,MAAM;AACpB,qBAAKW,GAAL,CAAS1B,MAAT,GAAkB,IAAlB;AACH,eAFD,EAEG,GAFH;AAGH,aAXD,EAYCJ,KAZD;AAaH,WAxBD,EAwBG,GAxBH,EAR4B,CAiC5B;AACA;AACA;AAEA;AACA;AACH;;AAGS+B,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,cAAI;AAAA;AAAA,oCAASC,SAAT,CAAmBC,YAAnB,IACG,CAAC,KAAKhC,oBADb,EAGI,KAAKD,kBAAL;AAEJ,cAAI;AAAA;AAAA,oCAASgC,SAAT,CAAmBE,qBAAnB,IACG,CAAC,KAAKxB,aADb,EAGI,KAAKH,WAAL;AAEJ,cAAG;AAAA;AAAA,oCAASyB,SAAT,CAAmBG,gBAAnB,IAAuC,CAAC,KAAKlB,iBAAhD,EAAmE,KAAKJ,eAAL;AAEtE;;AA/GmC,O;;;;;iBAGpB,I;;;;;;;iBAGC,I;;;;;;;iBAGA,I;;;;;;;iBAGF,I;;;;;;;iBAGM,E;;;;;;;iBAGA,I;;;;;;;iBAGA,E;;;;;;;iBAGJ,E;;;;;;;iBAIL,I","sourcesContent":["import { _decorator, Component, easing, log, Node, ParticleSystem, tween, Vec3 } from 'cc';\nimport { SoundController } from '../../Controller/SoundController';\nimport { GameInfo } from '../../CONST/GameInfo';\n\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('PA_08_UI')\nexport class PA_08_UI extends Component {\n\n    @property(Node)\n    mainCam: Node = null;\n\n    @property(Node)\n    Camera_3: Node = null;\n\n    @property(Node)\n    UI_Blink: Node = null;\n\n    @property(Node)\n    moto_2: Node = null;\n\n    @property([Node])\n    policeCars: Node[] = [];\n\n    @property(Node)\n    checkPoint_1: Node = null;\n\n    @property([Node])\n    UI_MoveCar: Node[] = [];\n\n    @property([Node])\n    Tut_1s: Node[] = [];\n\n\n    @property(Node)\n    CTA: Node = null;\n\n\n    isActiveCheckPoint_1: boolean = false;\n    isActiveTut_1: boolean = false;\n    isActiveCinematic: boolean = false;\n\n\n    protected start(): void {\n\n    }\n\n\n    private activeCheckPoint_1(): void {\n        this.isActiveCheckPoint_1 = true;\n        this.checkPoint_1.active = true;\n        this.UI_MoveCar.forEach(ui => ui.active = true);\n    }\n    \n\n    private activeTut_1(): void {\n        this.UI_MoveCar.forEach(ui => ui.active = false);\n        this.Tut_1s.forEach((item) => item.active = true);\n        this.isActiveTut_1 = true;\n        SoundController.Instance(SoundController).playSound(\"PoliceSirenSound\");\n    }\n\n\n    private activeCinematic(): void {\n        this.Tut_1s.forEach(tut => tut.active = false);\n        this.mainCam.active = false;\n        this.Camera_3.active = true;\n        this.isActiveCinematic = true;\n\n        SoundController.Instance(SoundController).playSound(\"brakeSound\");\n\n        this.scheduleOnce(() => {\n            tween(this.policeCars[0])\n            .to(0.5, {position: this.moto_2.position}, {easing: easing.smooth})\n            .call(() => {\n                this.UI_Blink.active = true;\n                let vfx_fireBall = this.policeCars[0].getChildByName(\"FireBall\");\n                vfx_fireBall.active = true;\n                SoundController.Instance(SoundController).playSound(\"BoomSound\");\n            })\n            .start(); \n            \n            tween(this.policeCars[1])\n            .to(0.5, {position: this.moto_2.position}, {easing: easing.smooth})\n            .call(() => {\n                let vfx_fireBall = this.policeCars[1].getChildByName(\"FireBall\");\n                vfx_fireBall.active = true;\n                SoundController.Instance(SoundController).playSound(\"BoomSound\");\n                SoundController.Instance(SoundController).stopSound(\"PoliceSirenSound\");\n\n                this.scheduleOnce(() => {\n                    this.CTA.active = true;\n                }, 1.5);\n            })\n            .start();   \n        }, 0.5)\n        // tween(this.moto_2)\n        // .to(0.5, {position: new Vec3(675.776, 8.014, -64.671)}, {easing: easing.smooth})\n        // .call(() => {\n  \n        // })\n        // .start();\n    }\n\n\n    protected update(dt: number): void {\n        if (GameInfo.GTA_PA_08.isRidingMoto\n            && !this.isActiveCheckPoint_1\n        )\n            this.activeCheckPoint_1();\n\n        if (GameInfo.GTA_PA_08.isTouchCheckPointFlag\n            && !this.isActiveTut_1\n        )\n            this.activeTut_1();\n\n        if(GameInfo.GTA_PA_08.isHitDogeCopsBtn && !this.isActiveCinematic) this.activeCinematic();\n\n    }\n\n\n\n\n}\n\n"]}
{"version":3,"sources":["file:///D:/CocosProjects/Amobear/GTA_All/assets/scripts/Controller/GameController.ts"],"names":["_decorator","Component","log","SoundController","ccclass","property","GameController","start","window","gameReady","installHandle","Instance","stopAllSound","gameEnd","playableSDK","openAppStore","ExitApi","exit","dapi","openStoreUrl","mraid","cc","sys","os","OS_ANDROID","ANDROID","open","install"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,G,OAAAA,G;;AACvBC,MAAAA,e,iBAAAA,e;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;gCAIjBM,c,WADZF,OAAO,CAAC,gBAAD,C,gBAAR,MACaE,cADb,SACoCL,SADpC,CAC8C;AAChCM,QAAAA,KAAK,GAAS;AACpBC,UAAAA,MAAM,CAACC,SAAP,IAAoBD,MAAM,CAACC,SAAP,EAApB;AACH;;AAGMC,QAAAA,aAAa,GAAS;AACzBR,UAAAA,GAAG,CAAC,SAAD,CAAH;AACA;AAAA;AAAA,kDAAgBS,QAAhB;AAAA;AAAA,kDAA0CC,YAA1C;AACAJ,UAAAA,MAAM,CAACK,OAAP,IAAkBL,MAAM,CAACK,OAAP,EAAlB,CAHyB,CAKzB;;AACA,cAAI,OAAQC,WAAR,IAAwB,WAA5B,EAAyC;AACrCN,YAAAA,MAAM,CAACM,WAAP,CAAmBC,YAAnB;AACA;AACH,WATwB,CAWzB;;;AACA,cAAI,OAAQC,OAAR,IAAoB,WAAxB,EAAqC;AACjCA,YAAAA,OAAO,CAACC,IAAR;AACA;AACH,WAfwB,CAiBzB;;;AACA,cAAI,OAAQC,IAAR,IAAiB,WAArB,EAAkC;AAC9BA,YAAAA,IAAI,CAACC,YAAL;AACA;AACH,WArBwB,CAuBzB;;;AACA,cAAI,OAAQC,KAAR,IAAkB,WAAtB,EAAmC;AAC/B,gBAAIC,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOE,UAApB,IAAkCH,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOG,OAA1D,EAAmE;AAC/DL,cAAAA,KAAK,CAACM,IAAN,CAAW,kFAAX;AACA;AACH,aAJ8B,CAM/B;AACA;AACA;AACA;;;AAEAN,YAAAA,KAAK,CAACM,IAAN,CAAW,kFAAX;AACA;AACH,WArCwB,CAsCzB;;;AACAlB,UAAAA,MAAM,CAACmB,OAAP,IAAkBnB,MAAM,CAACmB,OAAP,EAAlB;AACH;;AA9CyC,O","sourcesContent":["import { _decorator, Component, log, Node } from 'cc';\nimport { SoundController } from './SoundController';\nconst { ccclass, property } = _decorator;\n\n \n@ccclass('GameController')\nexport class GameController extends Component {\n    protected start(): void {\n        window.gameReady && window.gameReady();\n    }\n\n\n    public installHandle(): void {\n        log(\"install\")\n        SoundController.Instance(SoundController).stopAllSound();\n        window.gameEnd && window.gameEnd();\n\n        //If ad network is tiktok\n        if (typeof (playableSDK) != \"undefined\") {\n            window.playableSDK.openAppStore();\n            return;\n        }\n\n        // If ad network is google ads\n        if (typeof (ExitApi) != \"undefined\") {\n            ExitApi.exit();\n            return;\n        }\n\n        // If ad netwrok is ironsources\n        if (typeof (dapi) != \"undefined\") {\n            dapi.openStoreUrl();\n            return;\n        }\n\n        // If ad network support MRAID 2.0\n        if (typeof (mraid) != \"undefined\") {\n            if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.ANDROID) {\n                mraid.open(\"https://play.google.com/store/apps/details?id=com.real.gangster.crime.city.vegas\");\n                return;\n            }\n\n            // if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.IPHONE || cc.sys.os == cc.sys.IPAD) {\n            //     mraid.open(\"https://itunes.apple.com/us/app/id6689494845?mt=8\");\n            //     return;\n            // }\n\n            mraid.open(\"https://play.google.com/store/apps/details?id=com.real.gangster.crime.city.vegas\");\n            return;\n        }\n        // If ad network is mindwork. window alway avaiable so skip undefined check\n        window.install && window.install();\n    }\n}\n"]}
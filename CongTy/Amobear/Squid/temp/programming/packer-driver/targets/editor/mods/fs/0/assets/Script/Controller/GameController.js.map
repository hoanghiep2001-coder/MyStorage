{"version":3,"sources":["file:///D:/CocosProjects/Amobear/Squid/assets/Script/Controller/GameController.ts"],"names":["_decorator","Component","GameInfo","ccclass","property","GameController","onLoad","start","window","gameReady","installHandle","console","log","IsShowPopupInstall","gameEnd","playableSDK","openAppStore","ExitApi","exit","dapi","openStoreUrl","mraid","cc","sys","os","OS_ANDROID","ANDROID","open","OS_IOS","IPHONE","IPAD","install"],"mappings":";;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,Q,iBAAAA,Q;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;gCAGjBK,c,WADZF,OAAO,CAAC,gBAAD,C,gBAAR,MACaE,cADb,SACoCJ,SADpC,CAC8C;AAGhCK,QAAAA,MAAM,GAAS,CAExB;;AAESC,QAAAA,KAAK,GAAS;AACpBC,UAAAA,MAAM,CAACC,SAAP,IAAoBD,MAAM,CAACC,SAAP,EAApB,CADoB,CAGpB;AAEA;AACA;AACA;AACH,SAfyC,CAkB1C;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;;;AAGOC,QAAAA,aAAa,GAAS;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA;AAAA;AAAA,oCAASC,kBAAT,GAA8B,IAA9B;AACAL,UAAAA,MAAM,CAACM,OAAP,IAAkBN,MAAM,CAACM,OAAP,EAAlB,CAHyB,CAIzB;;AACA,cAAI,OAAQC,WAAR,IAAwB,WAA5B,EAAyC;AACrCP,YAAAA,MAAM,CAACO,WAAP,CAAmBC,YAAnB;AACA;AACH,WARwB,CAUzB;;;AACA,cAAI,OAAQC,OAAR,IAAoB,WAAxB,EAAqC;AACjCA,YAAAA,OAAO,CAACC,IAAR;AACA;AACH,WAdwB,CAgBzB;;;AACA,cAAI,OAAQC,IAAR,IAAiB,WAArB,EAAkC;AAC9BA,YAAAA,IAAI,CAACC,YAAL;AACA;AACH,WApBwB,CAsBzB;;;AACA,cAAI,OAAQC,KAAR,IAAkB,WAAtB,EAAmC;AAC/B,gBAAIC,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOE,UAApB,IAAkCH,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOG,OAA1D,EAAmE;AAC/DL,cAAAA,KAAK,CAACM,IAAN,CAAW,uFAAX;AACA;AACH;;AAED,gBAAIL,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOK,MAApB,IAA8BN,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOM,MAAlD,IAA4DP,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOO,IAApF,EAA0F;AACtFT,cAAAA,KAAK,CAACM,IAAN,CAAW,mDAAX;AACA;AACH;;AAEDN,YAAAA,KAAK,CAACM,IAAN,CAAW,uFAAX;AACA;AACH,WApCwB,CAqCzB;;;AACAnB,UAAAA,MAAM,CAACuB,OAAP,IAAkBvB,MAAM,CAACuB,OAAP,EAAlB;AACH;;AApEyC,O","sourcesContent":["\nimport { _decorator, Component, Constraint, Node, screen, VideoClip, VideoPlayer, view } from 'cc';\nimport { GameInfo } from '../CONST/GameInfo';\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameController')\nexport class GameController extends Component {\n\n\n    protected onLoad(): void {\n\n    }\n\n    protected start(): void {\n        window.gameReady && window.gameReady();\n\n        // this.handleOrientation();\n\n        // view.setResizeCallback(() => {\n        //     this.handleOrientation();\n        // });\n    }\n\n\n    // private handleOrientation(): void {\n        // if (screen.windowSize.width > screen.windowSize.height) {\n        //     this.rotatePopup.active = false;\n        //     Constants.isCanClick = true;\n        // } else {\n        //     this.rotatePopup.active = true;\n        //     Constants.isCanClick = false;\n        // }\n    // }\n\n\n    public installHandle(): void {\n        console.log(\"install\");\n        GameInfo.IsShowPopupInstall = true;\n        window.gameEnd && window.gameEnd();\n        //If ad network is tiktok\n        if (typeof (playableSDK) != \"undefined\") {\n            window.playableSDK.openAppStore();\n            return;\n        }\n\n        // If ad network is google ads\n        if (typeof (ExitApi) != \"undefined\") {\n            ExitApi.exit();\n            return;\n        }\n\n        // If ad netwrok is ironsources\n        if (typeof (dapi) != \"undefined\") {\n            dapi.openStoreUrl();\n            return;\n        }\n\n        // If ad network support MRAID 2.0\n        if (typeof (mraid) != \"undefined\") {\n            if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.ANDROID) {\n                mraid.open(\"https://play.google.com/store/apps/details?id=com.run.squid.challenges.survival.clash\");\n                return;\n            }\n\n            if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.IPHONE || cc.sys.os == cc.sys.IPAD) {\n                mraid.open(\"https://itunes.apple.com/us/app/id6475710058?mt=8\");\n                return;\n            }\n\n            mraid.open(\"https://play.google.com/store/apps/details?id=com.run.squid.challenges.survival.clash\");\n            return;\n        }\n        // If ad network is mindwork. window alway avaiable so skip undefined check\n        window.install && window.install();\n    }\n}\n\n"]}
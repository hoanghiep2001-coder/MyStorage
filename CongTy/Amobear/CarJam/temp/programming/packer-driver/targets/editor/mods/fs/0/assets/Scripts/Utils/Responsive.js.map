{"version":3,"sources":["file:///D:/CocosProjects/Amobear/CarJam/assets/Scripts/Utils/Responsive.ts"],"names":["Component","Vec3","_decorator","log","screen","UIGameController","GameInfo","ccclass","property","Responsive","start","handleRotate","windowSize","width","height","isRotate","setHorizontal","setVertical","setHorizontalForIpX","setHorizontalForTablet","HORIZONTAL_IPX","device","Tut_1","setPosition","queueLabelCalPosX","queueLabelCalPosY","QueueLabel","node","scale","HORIZONTAL_TABLET","setIphoneX","setMobile","VERTICAL_IPX","VERTICAL_MOBILE","update","dt"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAiBA,MAAAA,S,OAAAA,S;AAAuBC,MAAAA,I,OAAAA,I;AAAcC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,M,OAAAA,M;;AAC9DC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAKTO,U,WAEhBD,QAAQ;AAAA;AAAA,+C,EAHZD,O,8BAAD,MACqBE,UADrB,SACwCT,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA,0CAM7B,EAN6B;;AAAA,4CAO1B,KAP0B;;AAAA,kDASrB,gBATqB;;AAAA,qDAUlB,mBAVkB;;AAAA,gDAWvB,cAXuB;;AAAA,mDAYpB,iBAZoB;AAAA;;AAepCU,QAAAA,KAAK,GAAS;AACpB,eAAKC,YAAL;AACH;;AAGOA,QAAAA,YAAY,GAAS;AACzB,cAAIP,MAAM,CAACQ,UAAP,CAAkBC,KAAlB,GAA0BT,MAAM,CAACQ,UAAP,CAAkBE,MAAhD,EAAwD;AACpD;AAAA;AAAA,sCAASC,QAAT,GAAoB,IAApB;AACA,iBAAKA,QAAL,GAAgB,IAAhB;AACA,iBAAKC,aAAL;AACH,WAJD,MAIO;AACH;AAAA;AAAA,sCAASD,QAAT,GAAoB,KAApB;AACA,iBAAKA,QAAL,GAAgB,KAAhB;AACA,iBAAKE,WAAL;AACH;AACJ;;AAGOD,QAAAA,aAAa,GAAS;AAC1B,cAAIZ,MAAM,CAACQ,UAAP,CAAkBE,MAAlB,GAA2BV,MAAM,CAACQ,UAAP,CAAkBC,KAA7C,GAAqD,IAAzD,EAA+D;AAC3D;AACA,iBAAKK,mBAAL;AACH,WAHD,MAGO;AACH,iBAAKC,sBAAL;AACH;AACJ;;AAGOD,QAAAA,mBAAmB,GAAS;AAChC,cAAI,KAAKE,cAAL,KAAwB,KAAKC,MAAjC,EAAyC;AACrC;AACH;;AAED,eAAKA,MAAL,GAAc,KAAKD,cAAnB,CALgC,CAOhC;;AACA,cAAIhB,MAAM,CAACQ,UAAP,CAAkBE,MAAlB,GAA2BV,MAAM,CAACQ,UAAP,CAAkBC,KAA7C,GAAqD,IAAzD,EAA+D;AAC3D,iBAAKR,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,CAAC,EAA5C,EAAgD,CAAhD;AAEA;AAAA;AAAA,sCAASC,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,sCAASC,iBAAT,GAA6B,GAA7B;AAEA,iBAAKpB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA9C;AACH,WAPD,CASA;AATA,eAUK;AACD,mBAAKI,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,CAAC,EAA5C,EAAgD,CAAhD;AAEA;AAAA;AAAA,wCAASC,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,wCAASC,iBAAT,GAA6B,GAA7B;AAEA,mBAAKpB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA9C;AACH;AACJ;;AAGOkB,QAAAA,sBAAsB,GAAS;AACnC,cAAI,KAAKU,iBAAL,KAA2B,KAAKR,MAApC,EAA4C;AACxC;AACH;;AAED,eAAKA,MAAL,GAAc,KAAKQ,iBAAnB;AAEA;AAAA;AAAA,oCAASL,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,oCAASC,iBAAT,GAA6B,GAA7B;AAEA,eAAKpB,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,CAAC,EAA5C,EAAgD,CAAhD;AAEA,eAAKlB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA9C,CAZmC,CAanC;AAEA;AAEA;AAEA;AACA;AAEH;;AAGOgB,QAAAA,WAAW,GAAS;AACxB,cAAIb,MAAM,CAACQ,UAAP,CAAkBC,KAAlB,GAA0BT,MAAM,CAACQ,UAAP,CAAkBE,MAA5C,GAAqD,GAAzD,EAA8D;AAC1D,iBAAKgB,UAAL;AACH,WAFD,MAEO;AACH,iBAAKC,SAAL;AACH;AACJ;;AAEOD,QAAAA,UAAU,GAAS;AACvB,cAAI,KAAKE,YAAL,KAAsB,KAAKX,MAA/B,EAAuC;AACnC;AACH;;AAEDlB,UAAAA,GAAG,CAAC,QAAD,CAAH;AACA,eAAKkB,MAAL,GAAc,KAAKW,YAAnB;AAEA,eAAK3B,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,EAA3C,EAA+C,CAA/C;AAEA;AAAA;AAAA,oCAASC,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,oCAASC,iBAAT,GAA6B,GAA7B;AAEA,eAAKpB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,CAA9C;AACH;;AAGO8B,QAAAA,SAAS,GAAS;AACtB,cAAI,KAAKE,eAAL,KAAyB,KAAKZ,MAAlC,EAA0C;AACtC;AACH;;AAED,eAAKA,MAAL,GAAc,KAAKY,eAAnB;AAEA,cAAIpB,KAAK,GAAGT,MAAM,CAACQ,UAAP,CAAkBC,KAA9B;AACA,cAAIC,MAAM,GAAGV,MAAM,CAACQ,UAAP,CAAkBE,MAA/B;;AAEA,cAAIA,MAAM,GAAGD,KAAT,GAAiB,GAArB,EAA0B;AACtB,gBAAIA,KAAK,GAAGC,MAAR,IAAkB,GAAlB,IAAyBD,KAAK,GAAGC,MAAR,GAAiB,IAA9C,EAAoD;AAChD;AACA,mBAAKT,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,CAAC,EAA5C,EAAgD,CAAhD;AAEA;AAAA;AAAA,wCAASC,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,wCAASC,iBAAT,GAA6B,GAA7B;AAEA,mBAAKpB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA9C;AAEA;AACH,aAXqB,CAatB;;;AACA,iBAAKI,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C;AAEA;AAAA;AAAA,sCAASC,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,sCAASC,iBAAT,GAA6B,GAA7B;AAEA,iBAAKpB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,CAA9C;AAEH,WArBD,MAqBO;AACH,iBAAKI,gBAAL,CAAsBiB,KAAtB,CAA4BC,WAA5B,CAAwC,CAAxC,EAA2C,CAAC,EAA5C,EAAgD,CAAhD;AAEA;AAAA;AAAA,sCAASC,iBAAT,GAA6B,EAA7B;AACA;AAAA;AAAA,sCAASC,iBAAT,GAA6B,GAA7B;AAEA,iBAAKpB,gBAAL,CAAsBqB,UAAtB,CAAiCC,IAAjC,CAAsCC,KAAtC,GAA8C,IAAI3B,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA9C;AACH,WAtCqB,CAwCtB;AACA;AAEA;AAEA;AACA;AACA;AACA;;AACH;;AAGSiC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,eAAKxB,YAAL;AACH;;AAhL6C,O;;;;;iBAGT,I","sourcesContent":["import { Camera, Component, Node, Quat, Vec3, Widget, _decorator, log, screen, view } from \"cc\";\r\nimport { UIGameController } from \"../Controller/UIGameController\";\r\nimport { GameInfo } from \"../Const/GameInfo\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\n@ccclass\r\nexport default class Responsive extends Component {\r\n\r\n    @property(UIGameController)\r\n    UIGameController: UIGameController = null;\r\n\r\n\r\n    device: string = \"\";\r\n    isRotate: boolean = false;\r\n\r\n    HORIZONTAL_IPX: string = \"horizontal_IPX\";\r\n    HORIZONTAL_TABLET: string = \"horizontal_Tablet\";\r\n    VERTICAL_IPX: string = \"vertical_IPX\";\r\n    VERTICAL_MOBILE: string = \"vertical_Mobile\";\r\n\r\n\r\n    protected start(): void {\r\n        this.handleRotate();\r\n    }\r\n\r\n\r\n    private handleRotate(): void {\r\n        if (screen.windowSize.width > screen.windowSize.height) {\r\n            GameInfo.isRotate = true;\r\n            this.isRotate = true;\r\n            this.setHorizontal();\r\n        } else {\r\n            GameInfo.isRotate = false;\r\n            this.isRotate = false;\r\n            this.setVertical();\r\n        }\r\n    }\r\n\r\n\r\n    private setHorizontal(): void {\r\n        if (screen.windowSize.height / screen.windowSize.width < 0.65) {\r\n            // Iphone 6 / 6 plus / 7 / 7 Plus / X\r\n            this.setHorizontalForIpX();\r\n        } else {\r\n            this.setHorizontalForTablet();\r\n        }\r\n    }\r\n\r\n\r\n    private setHorizontalForIpX(): void {\r\n        if (this.HORIZONTAL_IPX === this.device) {\r\n            return;\r\n        }\r\n\r\n        this.device = this.HORIZONTAL_IPX;\r\n\r\n        // IP X\r\n        if (screen.windowSize.height / screen.windowSize.width < 0.47) {\r\n            this.UIGameController.Tut_1.setPosition(0, -30, 0);\r\n\r\n            GameInfo.queueLabelCalPosX = 16;\r\n            GameInfo.queueLabelCalPosY = 158;\r\n\r\n            this.UIGameController.QueueLabel.node.scale = new Vec3(0.42, 0.42, 0.42);\r\n        }\r\n\r\n        // IP 6 / 7 / 8\r\n        else {\r\n            this.UIGameController.Tut_1.setPosition(0, -30, 0);\r\n\r\n            GameInfo.queueLabelCalPosX = 16;\r\n            GameInfo.queueLabelCalPosY = 158;\r\n\r\n            this.UIGameController.QueueLabel.node.scale = new Vec3(0.42, 0.42, 0.42);\r\n        }\r\n    }\r\n\r\n\r\n    private setHorizontalForTablet(): void {\r\n        if (this.HORIZONTAL_TABLET === this.device) {\r\n            return;\r\n        }\r\n\r\n        this.device = this.HORIZONTAL_TABLET;\r\n\r\n        GameInfo.queueLabelCalPosX = 16;\r\n        GameInfo.queueLabelCalPosY = 158;\r\n\r\n        this.UIGameController.Tut_1.setPosition(0, -30, 0);\r\n\r\n        this.UIGameController.QueueLabel.node.scale = new Vec3(0.42, 0.42, 0.42);\r\n        // if (screen.windowSize.width / screen.windowSize.height < 0.7) {\r\n\r\n        //     // Iphone 6 / 6 plus / 7 / 7 Plus\r\n\r\n        // } else {    \r\n\r\n        //     // Ipad\r\n        // }\r\n\r\n    }\r\n\r\n\r\n    private setVertical(): void {\r\n        if (screen.windowSize.width / screen.windowSize.height < 0.5) {\r\n            this.setIphoneX();\r\n        } else {\r\n            this.setMobile();\r\n        }\r\n    }\r\n\r\n    private setIphoneX(): void {\r\n        if (this.VERTICAL_IPX === this.device) {\r\n            return;\r\n        }\r\n\r\n        log(\"vt ipx\");\r\n        this.device = this.VERTICAL_IPX;\r\n\r\n        this.UIGameController.Tut_1.setPosition(0, 30, 0);\r\n\r\n        GameInfo.queueLabelCalPosX = 24;\r\n        GameInfo.queueLabelCalPosY = 222;\r\n\r\n        this.UIGameController.QueueLabel.node.scale = new Vec3(0.5, 0.5, 0.5)\r\n    }\r\n\r\n\r\n    private setMobile(): void {\r\n        if (this.VERTICAL_MOBILE === this.device) {\r\n            return;\r\n        }\r\n\r\n        this.device = this.VERTICAL_MOBILE;\r\n\r\n        let width = screen.windowSize.width;\r\n        let height = screen.windowSize.height;\r\n\r\n        if (height / width > 1.5) {\r\n            if (width / height >= 0.6 && width / height < 0.62) {\r\n                // mobile mode applovin\r\n                this.UIGameController.Tut_1.setPosition(0, -15, 0);\r\n\r\n                GameInfo.queueLabelCalPosX = 19;\r\n                GameInfo.queueLabelCalPosY = 175;\r\n\r\n                this.UIGameController.QueueLabel.node.scale = new Vec3(0.48, 0.48, 0.48)\r\n\r\n                return;\r\n            }\r\n\r\n            // Iphone 6 / 6 Plus / 7 / 7 Plus   \r\n            this.UIGameController.Tut_1.setPosition(0, 0, 0);\r\n\r\n            GameInfo.queueLabelCalPosX = 19;\r\n            GameInfo.queueLabelCalPosY = 183;\r\n\r\n            this.UIGameController.QueueLabel.node.scale = new Vec3(0.5, 0.5, 0.5)\r\n\r\n        } else {\r\n            this.UIGameController.Tut_1.setPosition(0, -30, 0);\r\n\r\n            GameInfo.queueLabelCalPosX = 18;\r\n            GameInfo.queueLabelCalPosY = 158;\r\n\r\n            this.UIGameController.QueueLabel.node.scale = new Vec3(0.48, 0.48, 0.48)\r\n        }\r\n\r\n        // if (screen.windowSize.width / screen.windowSize.height < 0.7) {\r\n        //     // Iphone 6 / 6 plus / 7 / 7 Plus\r\n\r\n        //     this.UIGameController.Tut_1.setPosition(0,-10,0);\r\n\r\n        // } else {\r\n        //     // Ipad\r\n        //     this.UIGameController.Tut_1.setPosition(0,-30,0);\r\n        // }\r\n    }\r\n\r\n\r\n    protected update(dt: number): void {\r\n        this.handleRotate();\r\n    }\r\n\r\n}\r\n"]}
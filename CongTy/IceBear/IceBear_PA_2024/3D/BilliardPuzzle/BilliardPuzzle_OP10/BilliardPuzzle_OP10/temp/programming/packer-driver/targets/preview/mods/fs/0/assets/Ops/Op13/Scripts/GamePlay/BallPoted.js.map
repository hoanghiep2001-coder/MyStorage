{"version":3,"sources":["file:///D:/PA_2024/3D/BilliardPuzzle/Billiard/assets/Ops/Op13/Scripts/GamePlay/BallPoted.ts"],"names":["_decorator","Component","instantiate","Node","Prefab","RigidBody","Vec3","EventManager","Global","GameManager","ccclass","property","BallPoted","SpawnPotedBall","index","firstShoot","Instance","ShowEndcard","boolIsSpawn","count","scheduleOnce","ball","ballPrefabs","holder","addChild","setPosition","ZERO","getComponent","applyForce","getPosition","start","instance","on"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAkBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AACpEC,MAAAA,Y;;AACAC,MAAAA,M;;AACEC,MAAAA,W,iBAAAA,W;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;2BAGaY,S,WADZF,OAAO,CAAC,WAAD,C,UAGHC,QAAQ,CAACP,MAAD,C,UAGRO,QAAQ,CAACR,IAAD,C,oCANb,MACaS,SADb,SAC+BX,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,+CAQd,KARc;;AAAA,yCAS7B,CAT6B;AAAA;;AAUrCY,QAAAA,cAAc,CAACC,KAAD,EAAgB;AAC1B,cAAI;AAAA;AAAA,gCAAOC,UAAX,EAAuB;AACnB;AAAA;AAAA,4CAAYC,QAAZ;AAAA;AAAA,4CAAkCC,WAAlC,GADmB,CAEpB;AACF;;AAED,cAAI,KAAKC,WAAT,EAAsB;AAClB,iBAAKC,KAAL,IAAc,CAAd;AACA,iBAAKC,YAAL,CAAkB,MAAM;AACpB,mBAAKP,cAAL,CAAoBC,KAApB;AACH,aAFD,EAEG,KAAKK,KAAL,GAAa,GAFhB;AAGA;AACH;;AACD,eAAKD,WAAL,GAAmB,IAAnB;AACA,cAAIG,IAAI,GAAGnB,WAAW,CAAC,KAAKoB,WAAL,CAAiBR,KAAjB,CAAD,CAAtB;AACA,eAAKS,MAAL,CAAYC,QAAZ,CAAqBH,IAArB;AACAA,UAAAA,IAAI,CAACI,WAAL,CAAiBnB,IAAI,CAACoB,IAAtB;AACAL,UAAAA,IAAI,CAACM,YAAL,CAAkBtB,SAAlB,EAA6BuB,UAA7B,CAAwC,IAAItB,IAAJ,CAAS,EAAT,EAAa,CAAb,EAAgB,CAAhB,CAAxC,EAA4De,IAAI,CAACQ,WAAL,EAA5D;AACA,eAAKT,YAAL,CAAkB,MAAM;AACpB,iBAAKF,WAAL,GAAmB,KAAnB;AACH,WAFD,EAEG,CAFH;AAGH;;AAEDY,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,EAAtB,CAAyB;AAAA;AAAA,gCAAOnB,cAAhC,EAAgD,KAAKA,cAArD,EAAqE,IAArE;AAEH;;AApCoC,O;;;;;iBAGb,E;;;;;;;iBAGT,I","sourcesContent":["\nimport { _decorator, Component, instantiate, log, Node, Prefab, RigidBody, Vec3 } from 'cc';\nimport EventManager from '../Utility3D/Observer/EventManager';\nimport Global from '../Utility3D/Global';\nimport { GameManager } from '../Utility3D/GameManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = BallPoted\n * DateTime = Mon May 20 2024 15:26:01 GMT+0700 (Indochina Time)\n * Author = PhongDNRocket123\n * FileBasename = BallPoted.ts\n * FileBasenameNoExtension = BallPoted\n * URL = db://assets/Scripts/GamePlay/BallPoted.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n\n@ccclass('BallPoted')\nexport class BallPoted extends Component {\n\n    @property(Prefab)\n    ballPrefabs: Prefab[] = [];\n\n    @property(Node)\n    holder: Node = null;\n\n    boolIsSpawn: boolean = false;\n    count = 0;\n    SpawnPotedBall(index: number) {\n        if (Global.firstShoot) {\n            GameManager.Instance(GameManager).ShowEndcard();\n           // log(\"endgame\");\n        }\n\n        if (this.boolIsSpawn) {\n            this.count += 1;\n            this.scheduleOnce(() => {\n                this.SpawnPotedBall(index);\n            }, this.count * 0.5)\n            return;\n        }\n        this.boolIsSpawn = true;\n        var ball = instantiate(this.ballPrefabs[index]);\n        this.holder.addChild(ball);\n        ball.setPosition(Vec3.ZERO);\n        ball.getComponent(RigidBody).applyForce(new Vec3(50, 0, 0), ball.getPosition());\n        this.scheduleOnce(() => {\n            this.boolIsSpawn = false;\n        }, 1);\n    }\n\n    start() {\n        EventManager.instance.on(Global.SpawnPotedBall, this.SpawnPotedBall, this);\n\n    }\n\n\n}\n\n\n"]}
{"version":3,"sources":["file:///D:/PA/IceBear_PA_2024/3D/HexaSort/HexaSort_FullProject/assets/Scripts/GamePlay/HideMask.ts"],"names":["_decorator","Component","Node","IronSource","GameInfo","Utility","UIGameController","GameController","ccclass","property","HideMask","init","start","registerEvent","node","on","EventType","TOUCH_START","touchStart","TOUCH_MOVE","touchMove","TOUCH_END","touchEnd","TOUCH_CANCEL","event","isToStore","installHandle","isCanTouch","isEndGame","isTouching","touchPos","convertToLocalLocation","getUILocation","Cursor","setPosition"],"mappings":"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","sourcesContent":["import { _decorator, Component, EventTouch, log, Node, Vec2, Vec3 } from 'cc';\nimport { IronSource } from '../AdHelper/IronSource';\nimport { GameInfo } from '../Const/GameInfo';\nimport { Utility } from '../Utils/Utility';\nimport { UIGameController } from '../Controller/UIGameController';\nimport { GameController } from '../Controller/GameController';\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('HideMask')\nexport class HideMask extends Component {\n    @property(UIGameController)\n    UIGameController: UIGameController = null;\n    @property(GameController)\n    GameController: GameController = null;\n\n\n\n    private init(): void {\n\n    }\n\n\n    protected start(): void {\n        this.init();\n        this.registerEvent();\n    }\n \n\n    private registerEvent(): void {\n        this.node.on(Node.EventType.TOUCH_START, this.touchStart, this);\n        this.node.on(Node.EventType.TOUCH_MOVE, this.touchMove, this);\n        this.node.on(Node.EventType.TOUCH_END, this.touchEnd, this);\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.touchEnd, this);\n    }\n\n\n    private touchStart(event: EventTouch): void {\n        if(GameInfo.isToStore) {\n            this.GameController.installHandle();\n            return;\n        }\n\n        if (!GameInfo.isCanTouch || IronSource.isEndGame) return;\n\n        // IronSource.handleIronSourcePlaySound();\n\n        GameInfo.isTouching = true;\n\n        let touchPos = Utility.convertToLocalLocation(event.getUILocation(), this.node);\n\n        this.UIGameController.Cursor.setPosition(touchPos);\n\n        GameInfo.touchPos = touchPos;\n\n        // this.UIGameController.Tutorial.active = false;\n    }\n\n\n    private touchMove(event: EventTouch): void {\n        if (!GameInfo.isCanTouch || IronSource.isEndGame || GameInfo.isToStore) return;\n\n        this.UIGameController.Cursor.setPosition(GameInfo.touchPos);\n\n        let touchPos = Utility.convertToLocalLocation(event.getUILocation(), this.node);\n\n        this.UIGameController.Cursor.setPosition(touchPos);\n\n        // LogicGamePlay.HandleIntersectsPoints(GameInfo.UI_MergePoint , this.UIGameController.Point);\n\n        GameInfo.touchPos = touchPos;\n    }\n\n\n    private touchEnd(): void {\n        if (!GameInfo.isCanTouch || IronSource.isEndGame || GameInfo.isToStore) return;\n\n        GameInfo.isTouching = false;\n        \n        // this.UIGameController.Point.active = false;\n        \n        // LogicGamePlay.HandleClearGraphics(this.UIGameController.Graphics);\n\n        // let roboChoosenArr = GameInfo.playerStartGameRobo.filter(robo => {\n        //     if(robo.getComponent(RoboBehavior).isPickup) return robo;\n        // });\n\n        // if(roboChoosenArr.length >= 2) LogicGamePlay.mergeRobo();\n        // else LogicGamePlay.resetRobos();\n\n    }\n\n}\n"]}
{"version":3,"sources":["file:///D:/PA/IceBear_PA_2024/3D/HexaSort/HexaSort_FullProject/assets/Scripts/Controller/GameController.ts"],"names":["_decorator","Component","SoundController","IronSource","ccclass","property","GameController","onFinish","window","gameEnd","start","gameReady","installHandle","console","log","isEndGame","Instance","StopAllSound","playableSDK","openAppStore","ExitApi","exit","dapi","openStoreUrl","mraid","cc","sys","os","OS_ANDROID","ANDROID","open","OS_IOS","IPHONE","IPAD","install","update","deltaTime","handleMuteSoundIronSource"],"mappings":";;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,e,iBAAAA,e;;AAEAC,MAAAA,U,iBAAAA,U;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;gCAIjBM,c,WADZF,OAAO,CAAC,gBAAD,C,gBAAR,MACaE,cADb,SACoCL,SADpC,CAC8C;AAC1C;AACA;AAEA;AACA;AACA;AAEQM,QAAAA,QAAQ,GAAS;AACrBC,UAAAA,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACC,OAAP,EAAlB;AACH;;AAESC,QAAAA,KAAK,GAAS;AACpBF,UAAAA,MAAM,CAACG,SAAP,IAAoBH,MAAM,CAACG,SAAP,EAApB,CADoB,CAGpB;AACH;;AAGMC,QAAAA,aAAa,GAAS;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEA;AAAA;AAAA,wCAAWC,SAAX,GAAuB,IAAvB;AACA;AAAA;AAAA,kDAAgBC,QAAhB;AAAA;AAAA,kDAA0CC,YAA1C;AACAT,UAAAA,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACC,OAAP,EAAlB,CALyB,CAOzB;;AACA,cAAI,OAAQS,WAAR,IAAwB,WAA5B,EAAyC;AACrCV,YAAAA,MAAM,CAACU,WAAP,CAAmBC,YAAnB;AACA;AACH,WAXwB,CAazB;;;AACA,cAAI,OAAQC,OAAR,IAAoB,WAAxB,EAAqC;AACjCA,YAAAA,OAAO,CAACC,IAAR;AACA;AACH,WAjBwB,CAmBzB;;;AACA,cAAI,OAAQC,IAAR,IAAiB,WAArB,EAAkC;AAC9BA,YAAAA,IAAI,CAACC,YAAL;AACA;AACH,WAvBwB,CAyBzB;;;AACA,cAAI,OAAQC,KAAR,IAAkB,WAAtB,EAAmC;AAC/B,gBAAIC,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOE,UAApB,IAAkCH,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOG,OAA1D,EAAmE;AAC/DL,cAAAA,KAAK,CAACM,IAAN,CAAW,yEAAX;AACA;AACH;;AAED,gBAAIL,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOK,MAApB,IAA8BN,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOM,MAAlD,IAA4DP,EAAE,CAACC,GAAH,CAAOC,EAAP,IAAaF,EAAE,CAACC,GAAH,CAAOO,IAApF,EAA0F;AACtFT,cAAAA,KAAK,CAACM,IAAN,CAAW,mDAAX;AACA;AACH;;AAEDN,YAAAA,KAAK,CAACM,IAAN,CAAW,yEAAX;AACA;AACH,WAvCwB,CAwCzB;;;AACAtB,UAAAA,MAAM,CAAC0B,OAAP,IAAkB1B,MAAM,CAAC0B,OAAP,EAAlB;AACH;;AAGDC,QAAAA,MAAM,CAAEC,SAAF,EAAqB;AACvB;AAAA;AAAA,wCAAWC,yBAAX;AACH;;AAlEyC,O;AAqE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node } from 'cc';\nimport { SoundController } from './SoundController';\nimport { CONST } from '../Const/CONST';\nimport { IronSource } from '../AdHelper/IronSource';\nconst { ccclass, property } = _decorator;\n\n \n@ccclass('GameController')\nexport class GameController extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    private onFinish(): void {\n        window.gameEnd && window.gameEnd();\n    }\n\n    protected start(): void {\n        window.gameReady && window.gameReady();\n\n        // SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.bgSound);\n    }\n\n\n    public installHandle(): void {\n        console.log(\"install\");\n\n        IronSource.isEndGame = true;\n        SoundController.Instance(SoundController).StopAllSound();\n        window.gameEnd && window.gameEnd();\n\n        //If ad network is tiktok\n        if (typeof (playableSDK) != \"undefined\") {\n            window.playableSDK.openAppStore();\n            return;\n        }\n\n        // If ad network is google ads\n        if (typeof (ExitApi) != \"undefined\") {\n            ExitApi.exit();\n            return;\n        }\n\n        // If ad netwrok is ironsources\n        if (typeof (dapi) != \"undefined\") {\n            dapi.openStoreUrl();\n            return;\n        }\n\n        // If ad network support MRAID 2.0\n        if (typeof (mraid) != \"undefined\") {\n            if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.ANDROID) {\n                mraid.open(\"https://play.google.com/store/apps/details?id=com.mergemaster.mergerobo\");\n                return;\n            }\n\n            if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.IPHONE || cc.sys.os == cc.sys.IPAD) {\n                mraid.open(\"https://itunes.apple.com/us/app/id6475570212?mt=8\");\n                return;\n            }\n\n            mraid.open(\"https://play.google.com/store/apps/details?id=com.mergemaster.mergerobo\");\n            return;\n        }\n        // If ad network is mindwork. window alway avaiable so skip undefined check\n        window.install && window.install();\n    }\n\n\n    update (deltaTime: number) {\n        IronSource.handleMuteSoundIronSource();\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}
{"version":3,"sources":["assets\\scripts\\Other\\GamePlay.js"],"names":["cc","Class","Component","properties","gc","Node","bgWarning","timeShowWarning","boss","bgMove","isIronSource","Boolean","playBgMusic","isPlayBgMusic","gameController","playAudio","reviveSound","audioBgMusic","onLoad","director","getPhysicsManager","enabled","collisionManager","getCollisionManager","getComponent","node","parent","on","EventType","TOUCH_START","event","showBoss","scheduleOnce","audioWarning","active","showPopupOptions","console","log","start","update","dt","view","getFrameSize","width","height","y"],"mappings":";;;;;;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,EAAE,EAAEJ,EAAE,CAACK,IADC;AAERC,IAAAA,SAAS,EAAEN,EAAE,CAACK,IAFN;AAGRE,IAAAA,eAAe,EAAE,CAHT;AAIRC,IAAAA,IAAI,EAAER,EAAE,CAACK,IAJD;AAKRI,IAAAA,MAAM,EAAET,EAAE,CAACK,IALH;AAMRK,IAAAA,YAAY,EAAEV,EAAE,CAACW;AANT,GAHP;AAaLC,EAAAA,WAbK,yBAaS;AACV,QAAI,CAAC,KAAKC,aAAV,EAAyB;AACrB,WAAKC,cAAL,CAAoBC,SAApB,CAA8B,KAAKD,cAAL,CAAoBE,WAAlD;AACA,WAAKF,cAAL,CAAoBC,SAApB,CAA8B,KAAKD,cAAL,CAAoBG,YAAlD;AACA,WAAKJ,aAAL,GAAqB,IAArB;AACH;AACJ,GAnBI;AAqBLK,EAAAA,MArBK,oBAqBI;AAAA;;AACLlB,IAAAA,EAAE,CAACmB,QAAH,CAAYC,iBAAZ,GAAgCC,OAAhC,GAA0C,IAA1C;AACA,QAAIC,gBAAgB,GAAGtB,EAAE,CAACmB,QAAH,CAAYI,mBAAZ,EAAvB;AACAD,IAAAA,gBAAgB,CAACD,OAAjB,GAA2B,IAA3B,CAHK,CAIL;;AAEA,SAAKP,cAAL,GAAsB,KAAKV,EAAL,CAAQoB,YAAR,CAAqB,gBAArB,CAAtB,CANK,CAQL;;AACA,SAAKX,aAAL,GAAqB,KAArB;;AACA,QAAI,KAAKH,YAAT,EAAuB;AACnB,WAAKe,IAAL,CAAUC,MAAV,CAAiBC,EAAjB,CAAoB3B,EAAE,CAACK,IAAH,CAAQuB,SAAR,CAAkBC,WAAtC,EAAmD,UAACC,KAAD,EAAW;AAC1D,YAAI,KAAI,CAACjB,aAAT,EAAwB;;AACxB,QAAA,KAAI,CAACD,WAAL;AACH,OAHD;AAIH,KALD,MAKO;AACH,WAAKA,WAAL;AACH,KAjBI,CAkBL;;AAEH,GAzCI;AA2CLmB,EAAAA,QA3CK,sBA2CM;AACP,SAAKC,YAAL,CAAkB,YAAY;AAC1B,WAAKlB,cAAL,CAAoBC,SAApB,CAA8B,KAAKD,cAAL,CAAoBmB,YAAlD;AACA,WAAK3B,SAAL,CAAe4B,MAAf,GAAwB,IAAxB;AACA,WAAKF,YAAL,CAAkB,YAAY;AAC1B,aAAK1B,SAAL,CAAe4B,MAAf,GAAwB,KAAxB;AACA,aAAK1B,IAAL,CAAU0B,MAAV,GAAmB,IAAnB;AACH,OAHD,EAGG,CAHH;AAIH,KAPD,EAOG,KAAK3B,eAPR;AAQH,GApDI;AAuDL4B,EAAAA,gBAvDK,8BAuDc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAEH,GA1DI;AA6DLC,EAAAA,KA7DK,mBA6DG,CACP,CA9DI;AAgELC,EAAAA,MAhEK,kBAgEEC,EAhEF,EAgEM;AAEP,QAAIxC,EAAE,CAACyC,IAAH,CAAQC,YAAR,GAAuBC,KAAvB,GAA+B3C,EAAE,CAACyC,IAAH,CAAQC,YAAR,GAAuBE,MAA1D,EAAkE;AAC9D,WAAKnC,MAAL,CAAYoC,CAAZ,GAAgB,CAAhB;AACH,KAFD,MAEO;AACH,WAAKpC,MAAL,CAAYoC,CAAZ,GAAgB,CAAC,GAAjB;AACH;AACJ;AAvEI,CAAT","sourceRoot":"/","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        gc: cc.Node,\n        bgWarning: cc.Node,\n        timeShowWarning: 8,\n        boss: cc.Node,\n        bgMove: cc.Node,\n        isIronSource: cc.Boolean,\n\n    },\n\n    playBgMusic() {\n        if (!this.isPlayBgMusic) {\n            this.gameController.playAudio(this.gameController.reviveSound);\n            this.gameController.playAudio(this.gameController.audioBgMusic);\n            this.isPlayBgMusic = true;\n        }\n    },\n\n    onLoad() {\n        cc.director.getPhysicsManager().enabled = true;\n        let collisionManager = cc.director.getCollisionManager();\n        collisionManager.enabled = true;\n        //collisionManager.enabledDebugDraw = true;\n\n        this.gameController = this.gc.getComponent(\"GameController\");\n\n        // ironSource\n        this.isPlayBgMusic = false;\n        if (this.isIronSource) {\n            this.node.parent.on(cc.Node.EventType.TOUCH_START, (event) => {\n                if (this.isPlayBgMusic) return;\n                this.playBgMusic();\n            });\n        } else {\n            this.playBgMusic();\n        }\n        // ----------------------\n\n    },\n\n    showBoss() {\n        this.scheduleOnce(function () {\n            this.gameController.playAudio(this.gameController.audioWarning);\n            this.bgWarning.active = true;\n            this.scheduleOnce(function () {\n                this.bgWarning.active = false;\n                this.boss.active = true;\n            }, 3);\n        }, this.timeShowWarning);\n    },\n\n\n    showPopupOptions() {\n        console.log(\"test\");\n        \n    },\n\n\n    start() {\n    },\n\n    update(dt) {\n\n        if (cc.view.getFrameSize().width > cc.view.getFrameSize().height) {\n            this.bgMove.y = 0;\n        } else {\n            this.bgMove.y = -800;\n        }\n    },\n\n\n});\n"]}
window.__require=function e(t,i,o){function n(a,s){if(!i[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var d="function"==typeof __require&&__require;if(!s&&d)return d(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){return n(t[a][1][e]||e)},h,h.exports,e,t,i,o)}return i[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({BossController:[function(e,t){"use strict";cc._RF.push(t,"57c65mhFk1I8aojTp7HjE4s","BossController"),cc.Class({extends:cc.Component,properties:{player:cc.Node},start:function(){this.playerControll=this.player.getComponent("PlayerController")},update:function(){var e=this.player.getPosition(),t=this.node.getPosition();t.lerp(e,.009,t),this.node.setPosition(t);var i=cc.misc.radiansToDegrees(Math.atan((this.player.y-this.node.y)/(this.player.x-this.node.x)));this.node.getChildByName("Body").angle=i,this.node.x-this.player.x>0?this.node.getChildByName("Body").scaleX=-1:this.node.getChildByName("Body").scaleX=1}}),cc._RF.pop()},{}],CameraController:[function(e,t){"use strict";cc._RF.push(t,"f9946NNZuRHJLTjWdYKXWzD","CameraController"),cc.Class({extends:cc.Component,properties:{player:cc.Node},start:function(){},update:function(){var e=this.player.getPosition();e.y=cc.misc.clampf(e.y,-100,450),e.x=cc.misc.clampf(e.x,-500,420);var t=this.node.getPosition();t.lerp(e,.2,t),this.node.setPosition(t)}}),cc._RF.pop()},{}],Constant:[function(e,t,i){"use strict";cc._RF.push(t,"78eee14aM5NzKTN1Ih9o+kO","Constant"),i.__esModule=!0,i.Constants=void 0;var o=cc._decorator,n=(o.ccclass,o.property,function(){});i.Constants=n,n.isClickGameStart=!1,n.isPlaySound=!1,n.isRotate=!1,n.countDie=0,n.isGameStart=!1,n.isShowPopupOptions=!1,n.gameTime=0,n.Event={touchStart:"touchstart",touchMove:"touchmove",touchEnd:"touchend",touchCancel:"touchcancel"},n.ironSource={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},n.Responsive={HORIZONTAL_IPX:"horizontal_IPX",HORIZONTAL_TABLET:"horizontal_Tablet",VERTICAL_IPX:"vertical_IPX",VERTICAL_MOBILE:"vertical_Mobile"},cc._RF.pop()},{}],EnemyController:[function(e,t){"use strict";cc._RF.push(t,"f274euVKR9EnbLmW4BUE0K6","EnemyController"),cc.Class({extends:cc.Component,properties:{arrPoint:[cc.Node],arrEnemy:[cc.Prefab],indexEnemy:0,indexPoint:0,player:cc.Node},onLoad:function(){},start:function(){},startCreateEnemy:function(){this.schedule(function(){this.spawnEnemy()},.01,22,0),this.schedule(function(){this.spawnEnemy()},1,20,3)},randomPoint:function(){this.indexPoint=cc.math.randomRangeInt(0,this.arrPoint.length)},randomEnemy:function(){this.indexEnemy=cc.math.randomRangeInt(0,this.arrEnemy.length)},spawnEnemy:function(){if(this.player.getComponent("PlayerController").isLive){this.randomEnemy(),this.randomPoint();var e=cc.instantiate(this.arrEnemy[this.indexEnemy]);e.parent=this.node,e.setPosition(cc.v2(this.arrPoint[this.indexPoint].getPosition().x,this.arrPoint[this.indexPoint].getPosition().y))}}}),cc._RF.pop()},{}],Enemy:[function(e,t){"use strict";cc._RF.push(t,"d10dec9d+ZI3pr6HInaMjsn","Enemy"),cc.Class({extends:cc.Component,properties:{isLive:!1,body:cc.RigidBody,maxSpeed:60,nameFish:cc.Sprite,arrNameFish:[cc.SpriteFrame],flag:cc.Sprite,arrFlag:[cc.SpriteFrame]},onCollisionEnter:function(e){2==e.tag&&this.isLive&&this.die()},start:function(){this.randomName=0,this.randomName=cc.math.randomRangeInt(0,this.arrNameFish.length),this.nameFish.spriteFrame=this.arrNameFish[this.randomName],this.randomFlag=0,this.randomFlag=cc.math.randomRangeInt(0,this.arrFlag.length),this.flag.spriteFrame=this.arrFlag[this.randomFlag],this.randomChangeSpeed=3,this.randomVecX=0,this.randomVecY=0,this.isLive=!0,this.randomVelocity(),this.schedule(function(){this.randomVelocity()},this.randomChangeSpeed,20,0)},randomVelocity:function(){this.randomChangeSpeed=cc.math.randomRangeInt(2,5),this.randomVecX=cc.math.randomRangeInt(-this.maxSpeed,this.maxSpeed),this.randomVecY=cc.math.randomRangeInt(-this.maxSpeed,this.maxSpeed),this.body.linearVelocity=cc.v2(this.randomVecX,this.randomVecY),this.node.getChildByName("Body").angle=cc.misc.radiansToDegrees(Math.atan(this.randomVecY/this.randomVecX)),this.randomVecX<0?this.node.getChildByName("Body").scaleX=-1:this.node.getChildByName("Body").scaleX=1},die:function(){this.body.linearVelocity=cc.v2(0,0),this.node.getChildByName("Name").active=!1,this.node.getChildByName("Flag").active=!1,this.node.getChildByName("Atk").getComponent(sp.Skeleton).setAnimation(0,"bite",!1),this.node.getChildByName("Body").active=!1,this.node.getChildByName("Die").active=!0,this.isLive=!1,this.getComponent(cc.Animation).play("EnemyDieAnim"),this.scheduleOnce(function(){this.node.destroy()},2)}}),cc._RF.pop()},{}],GameController:[function(e,t){"use strict";cc._RF.push(t,"5565f30v5NC16ZUpdX+5nlp","GameController"),cc.Class({extends:cc.Component,properties:{installPopup:cc.Node,installButton:cc.Button,touchArea:cc.Node,audioClick:cc.AudioClip,audioAtk:cc.AudioClip,audioUpgrade:cc.AudioClip,audioWarning:cc.AudioClip,audioBgMusic:cc.AudioClip,audioEat:cc.AudioClip,audioBossAtk:cc.AudioClip,reviveSound:cc.AudioClip},onLoad:function(){this.installButton.node.on("click",this.installHandle,this)},start:function(){window.gameReady&&window.gameReady()},onFinish:function(){window.gameEnd&&window.gameEnd()},playAudio:function(e){e===this.audioClick?cc.audioEngine.play(this.audioClick,!1,1):e===this.audioAtk?cc.audioEngine.play(this.audioAtk,!1,1):e===this.reviveSound?cc.audioEngine.play(this.reviveSound,!1,1):e===this.audioUpgrade?cc.audioEngine.play(this.audioUpgrade,!1,1):e===this.audioWarning?cc.audioEngine.play(this.audioWarning,!1,1):e===this.audioBgMusic?cc.audioEngine.play(this.audioBgMusic,!0,1):e===this.audioEat?cc.audioEngine.play(this.audioEat,!1,1):e===this.audioBossAtk&&cc.audioEngine.play(this.audioBossAtk,!1,1)},showPopupInstall:function(){this.installPopup.active=!0,cc.tween(this.node.getChildByName("InstallPopup").getChildByName("btn_Revive")).repeatForever(cc.tween(this.node.getChildByName("InstallPopup").getChildByName("btn_Revive")).to(.5,{scale:.5}).to(.5,{scale:.55},{easing:"elasticOut"})).start(),this.touchArea.getComponent("TouchArea").registerReviveAction()},stopAudio:function(){cc.audioEngine.stopAll()},installHandle:function(){if(this.playAudio(this.audioClick),this.stopAudio(),"undefined"==typeof playableSDK)return"undefined"!=typeof ExitApi?(cc.log("Call exit api"),void ExitApi.exit()):"undefined"!=typeof dapi?(cc.log("Call dapi"),void dapi.openStoreUrl()):"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.fishio.hungryfish"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/com.fishio.hungryfish?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.fishio.hungryfish"):void(window.install&&window.install());window.playableSDK.openAppStore()}}),cc._RF.pop()},{}],GamePlay:[function(e,t){"use strict";cc._RF.push(t,"3d0b2UAFNhFjZ33buq0tdva","GamePlay"),cc.Class({extends:cc.Component,properties:{gc:cc.Node,bgWarning:cc.Node,timeShowWarning:8,boss:cc.Node,bgMove:cc.Node,isIronSource:cc.Boolean},playBgMusic:function(){this.isPlayBgMusic||(this.gameController.playAudio(this.gameController.reviveSound),this.gameController.playAudio(this.gameController.audioBgMusic),this.isPlayBgMusic=!0)},onLoad:function(){var e=this;cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.gameController=this.gc.getComponent("GameController"),this.isPlayBgMusic=!1,this.isIronSource?this.node.parent.on(cc.Node.EventType.TOUCH_START,function(){e.isPlayBgMusic||e.playBgMusic()}):this.playBgMusic()},showBoss:function(){this.scheduleOnce(function(){this.gameController.playAudio(this.gameController.audioWarning),this.bgWarning.active=!0,this.scheduleOnce(function(){this.bgWarning.active=!1,this.boss.active=!0},3)},this.timeShowWarning)},showPopupOptions:function(){console.log("test")},start:function(){},update:function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?this.bgMove.y=0:this.bgMove.y=-800}}),cc._RF.pop()},{}],PlayerController:[function(e,t){"use strict";cc._RF.push(t,"c8daewWYL1IObw90wQWYYLg","PlayerController");var i=e("../Data/Constant").Constants;cc.Class({extends:cc.Component,properties:{speed:5,isMove:!1,touchArea:cc.Node,targetPosition:cc.Vec2,score:0,isLive:!0,gc:cc.Node,headPlayer:cc.Node,crownGold:cc.Node,crownSilver:cc.Node,crownCopper:cc.Node,rigidBody:cc.RigidBody,scoreLabel1:cc.Label,scoreLabel2:cc.Label,scoreLabel3:cc.Label,rankName1:cc.Sprite,rankName2:cc.Sprite,rankName3:cc.Sprite,sfName1:cc.SpriteFrame,sfName2:cc.SpriteFrame,sfName3:cc.SpriteFrame,sfNamePlayer:cc.SpriteFrame},start:function(){this.gameController=this.gc.getComponent("GameController")},onCollisionEnter:function(e){2!=e.tag&&3!=e.tag||this.isLive&&(this.die(),this.headPlayer.active=!0,this.gameController.playAudio(this.gameController.audioBossAtk),this.node.getChildByName("Atk").getComponent(sp.Skeleton).setAnimation(0,"bite",!1),i.countDie+=1)},die:function(){this.gameController.playAudio(this.gameController.audioEat),this.node.getChildByName("Body").active=!1,this.node.getChildByName("Die").active=!0,this.getComponent(cc.Animation).play("EnemyDieAnim"),this.isLive=!1,this.scheduleOnce(function(){this.gameController.showPopupInstall()},1)},update:function(){if(this.isMove&&this.isLive){this.targetPosition=this.touchArea.getComponent("TouchArea").positionTouch;var e=this.node.getPosition();e.lerp(this.targetPosition,.02,e),this.node.setPosition(e)}}}),cc._RF.pop()},{"../Data/Constant":"Constant"}],SwordPlayer:[function(e,t){"use strict";cc._RF.push(t,"0b94fVRQ7NPU6JabzfyPgGt","SwordPlayer"),cc.Class({extends:cc.Component,properties:{gc:cc.Node,headFish1:cc.Node,headFish2:cc.Node,headFish3:cc.Node,headFish4:cc.Node},onCollisionEnter:function(e){1==e.tag&&e.getComponent("Enemy").isLive&&(this.gameController.playAudio(this.gameController.audioEat),e.getComponent("Enemy").die(),this.countHead++,1==this.countHead&&(this.headFish1.active=!0),2==this.countHead&&(this.headFish2.active=!0),3==this.countHead&&(this.headFish3.active=!0),4==this.countHead&&(this.headFish4.active=!0))},start:function(){this.countHead=0,this.gameController=this.gc.getComponent("GameController")}}),cc._RF.pop()},{}],TouchArea:[function(e,t){"use strict";cc._RF.push(t,"3cdc76y48VMIozePWT6y+zO","TouchArea");var i=e("../Data/Constant").Constants;cc.Class({extends:cc.Component,properties:{positionTouch:cc.Vec2,player:cc.Node,camera:cc.Node,rigidBody:cc.RigidBody,tut:cc.Node,enemyController:cc.Node,gamePlay:cc.Node,btn_revive:cc.Node},start:function(){var e=this;this.bodyPlayer=this.player.getChildByName("Body"),this.isTouched=!1,this.node.parent.on(cc.Node.EventType.TOUCH_START,function(t){e.tut.active&&(e.tut.active=!1,e.player.getComponent("PlayerController").isMove=!0,e.enemyController.getComponent("EnemyController").startCreateEnemy(),e.gamePlay.getComponent("GamePlay").showBoss()),i.isGameStart=!0,e.isTouched=!0,e.moveWithTouch(t)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.moveWithTouch(t)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.isTouched=!1}),this.node.on(cc.Node.EventType.TOUCH_END,function(){e.isTouched=!1})},registerReviveAction:function(){this.btn_revive.on(cc.Node.EventType.TOUCH_START,this.handleBtnReviveTouchStart,this)},handleBtnReviveTouchStart:function(){cc.audioEngine.stopAll(),i.countDie>=1&&cc.director.loadScene("Game")},moveWithTouch:function(e){this.positionTouch=e.getLocation();var t=this.node.convertToNodeSpaceAR(this.positionTouch);this.positionTouch=t,this.positionTouch.x+=this.camera.x,this.positionTouch.y+=this.camera.y;var i=cc.misc.radiansToDegrees(Math.atan((this.player.y-t.y)/(this.player.x-t.x)));this.bodyPlayer.angle=i,this.player.x-t.x>0?this.bodyPlayer.scaleX=-1:this.bodyPlayer.scaleX=1},update:function(){i.isGameStart&&!i.isShowPopupOptions&&(i.gameTime+=.01,i.gameTime>=3&&(i.isShowPopupOptions=!0,this.gamePlay.getComponent("GamePlay").showPopupOptions()))}}),cc._RF.pop()},{"../Data/Constant":"Constant"}],UIGameController:[function(e,t){"use strict";cc._RF.push(t,"d451a3z+gxLII7oceSoPGiY","UIGameController"),cc.Class({extends:cc.Component,properties:{camera:cc.Node},start:function(){},update:function(){this.node.setPosition(this.camera.getPosition())}}),cc._RF.pop()},{}]},{},["BossController","CameraController","EnemyController","GameController","PlayerController","UIGameController","Constant","Enemy","GamePlay","SwordPlayer","TouchArea"]);
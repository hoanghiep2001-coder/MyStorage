{"version":3,"sources":["assets\\Script\\Enemy\\EnemyBullet.js"],"names":["Player3D","require","CONST","cc","Class","Component","properties","DampFactor","onLoad","_isLanching","_direction","_speed","start","Launch","baseDamp","direction","_baseDamp","node","scaleX","update","dt","setPosition","getPosition","x","y","hitPlayer","console","log","destroy","hitPlatform","onCollisionEnter","other","self","group","getComponent","hit","PoisonVineBaseAttack"],"mappings":";;;;;;AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AAEAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAE;AADJ,GAHP;AAOLC,EAAAA,MAPK,oBAOK;AACN,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AAEA,SAAKC,MAAL,GAAc,EAAd;AACH,GAZI;AAcLC,EAAAA,KAdK,mBAcI;AACL,SAAKH,WAAL,GAAmB,IAAnB;AACH,GAhBI;AAkBLI,EAAAA,MAlBK,kBAkBEC,QAlBF,EAkBYC,SAlBZ,EAkBsB;AACvB,SAAKL,UAAL,GAAkBK,SAAlB;AACA,SAAKC,SAAL,GAAiBF,QAAjB;AAEA,SAAKG,IAAL,CAAUC,MAAV,GAAmBH,SAAnB;AACH,GAvBI;AAyBLI,EAAAA,MAzBK,kBAyBGC,EAzBH,EAyBO;AACR,QAAG,CAAC,KAAKX,WAAT,EAAsB;AAEtB,SAAKQ,IAAL,CAAUI,WAAV,CAAsB,KAAKJ,IAAL,CAAUK,WAAV,GAAwBC,CAAxB,GAA4B,KAAKZ,MAAL,GAAc,EAAd,GAAmB,KAAKD,UAAxB,GAAqCU,EAAvF,EAA2F,KAAKH,IAAL,CAAUK,WAAV,GAAwBE,CAAnH;AACH,GA7BI;AA+BLC,EAAAA,SA/BK,uBA+BM;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAKV,IAAL,CAAUW,OAAV;AACH,GAlCI;AAoCLC,EAAAA,WApCK,yBAoCQ;AACT,SAAKpB,WAAL,GAAmB,KAAnB;AACA,SAAKQ,IAAL,CAAUW,OAAV;AACH,GAvCI;AAyCLE,EAAAA,gBAAgB,EAAE,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AAErC,QAAGD,KAAK,CAACd,IAAN,CAAWgB,KAAX,IAAoB,QAAvB,EAAgC;AAC5BF,MAAAA,KAAK,CAACG,YAAN,CAAmBlC,QAAnB,EAA6BmC,GAA7B,CAAiCjC,KAAK,CAACkC,oBAAvC;AACA,WAAKX,SAAL;AACH,KAHD,MAGO,IAAGM,KAAK,CAACd,IAAN,CAAWgB,KAAX,IAAoB,OAAvB,EAA+B;AAClC,WAAKJ,WAAL;AACH;AAEJ;AAlDI,CAAT","sourceRoot":"/","sourcesContent":["var Player3D = require(\"Player3D\");\r\nconst CONST = require(\"CONST\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        DampFactor: 1,\r\n    },\r\n\r\n    onLoad () {\r\n        this._isLanching = false;\r\n        this._direction = 0;\r\n\r\n        this._speed = 15;\r\n    },\r\n\r\n    start () {\r\n        this._isLanching = true;\r\n    },\r\n\r\n    Launch(baseDamp, direction){\r\n        this._direction = direction;\r\n        this._baseDamp = baseDamp;\r\n\r\n        this.node.scaleX = direction;\r\n    },\r\n\r\n    update (dt) {\r\n        if(!this._isLanching) return;\r\n\r\n        this.node.setPosition(this.node.getPosition().x + this._speed * 10 * this._direction * dt, this.node.getPosition().y);\r\n    },\r\n\r\n    hitPlayer(){\r\n        console.log(\"Bullet Hit Player\");\r\n        this.node.destroy();\r\n    },\r\n\r\n    hitPlatform(){\r\n        this._isLanching = false;\r\n        this.node.destroy();\r\n    },\r\n\r\n    onCollisionEnter: function (other, self) {\r\n        \r\n        if(other.node.group == \"Player\"){\r\n            other.getComponent(Player3D).hit(CONST.PoisonVineBaseAttack);\r\n            this.hitPlayer();\r\n        } else if(other.node.group == \"Solid\"){\r\n            this.hitPlatform();\r\n        }\r\n        \r\n    },\r\n});\r\n"]}
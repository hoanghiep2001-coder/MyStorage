{"version":3,"sources":["assets\\Script\\Controllers\\GameController.js"],"names":["GameInfo","require","AudioManager","CONST","cc","Class","Component","properties","InstallPopup","Node","ChangeYourOrientation","onLoad","manager","director","getCollisionManager","enabled","physics_manager","getPhysicsManager","gravity","v2","_changeOrientation","_lastOrientationIsLandscape","start","window","gameReady","bgSound","play","handleYourOrientation","view","setResizeCallback","handleIronSourcePlaySound","IronSource","isPlayBgSound","SoundState","handleMuteSoundIronSource","State","parseInt","localStorage","getItem","isEndGame","stopAllSound","showPopupInstall","active","setPosition","getFrameSize","width","height","GamePause","update","dt","isHitArrow","hitBowSound"],"mappings":"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","sourceRoot":"/","sourcesContent":["const GameInfo = require(\"GameInfo\");\r\nconst AudioManager = require(\"AudioManager\");\r\nconst CONST = require(\"../Const/CONST\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        InstallPopup: cc.Node,\r\n        ChangeYourOrientation: cc.Node,\r\n\r\n        AudioManager: AudioManager,\r\n        // Dhhiep\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n        // manager.enabledDebugDraw = true;\r\n\r\n        let physics_manager = cc.director.getPhysicsManager()\r\n        physics_manager.enabled = true;\r\n        physics_manager.gravity = cc.v2 (0, -2000);\r\n\r\n        this._changeOrientation = false;\r\n        this._lastOrientationIsLandscape = true;\r\n    },\r\n\r\n    start () {\r\n        // this.InstallPopup.active = false;\r\n        window.gameReady && window.gameReady();\r\n\r\n        this.AudioManager.bgSound.play();\r\n        this.handleYourOrientation();\r\n\r\n        cc.view.setResizeCallback (()=>{\r\n            this.handleYourOrientation();\r\n        });\r\n    },\r\n\r\n\r\n     handleIronSourcePlaySound() {\r\n        if (CONST.IronSource.isPlayBgSound) {\r\n          return;\r\n        }\r\n    \r\n        if (CONST.IronSource.SoundState) {\r\n          this.AudioManager.bgSound.play();\r\n        }\r\n    \r\n        CONST.IronSource.isPlayBgSound = true;\r\n      },\r\n    \r\n    \r\n       handleMuteSoundIronSource() {\r\n        CONST.IronSource.State = parseInt(localStorage.getItem(\"cocosSoundState\"), 10)\r\n    \r\n        if (CONST.IronSource.State) {\r\n          if (CONST.IronSource.State === 1 && !CONST.IronSource.SoundState && !CONST.IronSource.isEndGame) {\r\n            CONST.IronSource.SoundState = true;\r\n            this.AudioManager.bgSound.play();\r\n          }\r\n    \r\n          if (CONST.IronSource.State === 2 && CONST.IronSource.SoundState) {\r\n            CONST.IronSource.SoundState = false;\r\n            this.AudioManager.stopAllSound();\r\n          }\r\n        }\r\n      },\r\n\r\n    showPopupInstall(){\r\n        this.InstallPopup.active = true;\r\n        this.InstallPopup.setPosition(0, 0);\r\n    },\r\n// node build-inline.js unity\r\n    handleYourOrientation(){\r\n        if(cc.view.getFrameSize().width > cc.view.getFrameSize().height){\r\n            this.ChangeYourOrientation.active = false;\r\n            GameInfo.GamePause = false;\r\n        } else {\r\n            this.ChangeYourOrientation.active = true;\r\n            GameInfo.GamePause = true;\r\n        }\r\n    },\r\n\r\n\r\n    update (dt) {\r\n        if(window.isHitArrow) {\r\n            window.isHitArrow = false;\r\n            this.AudioManager.hitBowSound.play();\r\n        }\r\n\r\n        // ironsource\r\n        // this.handleMuteSoundIronSource();\r\n    },\r\n});\r\n"]}
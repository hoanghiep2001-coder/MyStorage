{"version":3,"sources":["assets\\Script\\Enemy\\HealthBarEnemy.js"],"names":["cc","Class","Component","properties","FillSprite","Sprite","onLoad","nodeParent","node","parent","start","update","dt","scaleX","init","hp","_maxHP","_currentHP","fillStart","fillRange","setHP","log","tween","to","decrement","damp","currentHp","isAlive"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAEJ,EAAE,CAACK;AADP,GAHP;AAOL;AAEAC,EAAAA,MATK,oBASK;AACN;AACA;AAEA,SAAKC,UAAL,GAAkB,KAAKC,IAAL,CAAUC,MAAV,CAAiBA,MAAnC;AACH,GAdI;AAgBLC,EAAAA,KAhBK,mBAgBI,CAER,CAlBI;AAoBLC,EAAAA,MApBK,kBAoBGC,EApBH,EAoBO;AACR,QAAG,KAAKL,UAAL,CAAgBM,MAAhB,GAAyB,CAA5B,EAA+B,KAAKL,IAAL,CAAUK,MAAV,GAAmB,CAAC,CAApB,CAA/B,KACK,KAAKL,IAAL,CAAUK,MAAV,GAAmB,CAAnB;AACR,GAvBI;AAyBLC,EAAAA,IAzBK,gBAyBAC,EAzBA,EAyBG;AACJ,SAAKC,MAAL,GAAcD,EAAd;AACA,SAAKE,UAAL,GAAkBF,EAAlB;AAEA,SAAKX,UAAL,CAAgBc,SAAhB,GAA4B,CAA5B;AACA,SAAKd,UAAL,CAAgBe,SAAhB,GAA4B,CAAC,CAA7B;AACH,GA/BI;AAiCLC,EAAAA,KAjCK,iBAiCCL,EAjCD,EAiCI;AACLf,IAAAA,EAAE,CAACqB,GAAH,CAAO,eAAP,EAAwBN,EAAxB;AACA,SAAKE,UAAL,GAAkBF,EAAlB,CAFK,CAGL;;AACAf,IAAAA,EAAE,CAACsB,KAAH,CAAS,KAAKlB,UAAd,EACCmB,EADD,CACK,IADL,EACW;AAACL,MAAAA,SAAS,EAAE,KAAKD,UAAL,GAAkB,KAAKD;AAAnC,KADX,EAECN,KAFD;AAGH,GAxCI;AA0CLc,EAAAA,SA1CK,qBA0CKC,IA1CL,EA0CU;AACXzB,IAAAA,EAAE,CAACqB,GAAH,CAAO,mBAAP,EAA4BI,IAA5B;AACA,QAAIC,SAAS,GAAG,KAAKT,UAAL,GAAkBQ,IAAlC;AACA,QAAGC,SAAS,GAAG,CAAf,EAAkBA,SAAS,GAAG,CAAZ;AAClB,SAAKN,KAAL,CAAWM,SAAX;AACH,GA/CI;AAiDLC,EAAAA,OAjDK,qBAiDI;AACL,WAAO,KAAKV,UAAL,GAAkB,CAAzB;AACH;AAnDI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        FillSprite: cc.Sprite,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        // this._maxHP = 0;\r\n        // this._currentHP = 0;\r\n\r\n        this.nodeParent = this.node.parent.parent;\r\n    },\r\n\r\n    start () {\r\n        \r\n    },\r\n\r\n    update (dt) {\r\n        if(this.nodeParent.scaleX < 0) this.node.scaleX = -1;\r\n        else this.node.scaleX = 1;\r\n    },\r\n\r\n    init(hp){\r\n        this._maxHP = hp;\r\n        this._currentHP = hp;\r\n\r\n        this.FillSprite.fillStart = 1;\r\n        this.FillSprite.fillRange = -1;\r\n    },\r\n\r\n    setHP(hp){\r\n        cc.log(\"Enemy Set HP \", hp);\r\n        this._currentHP = hp;\r\n        // this.FillSprite.fillStart = this._currentHP / this._maxHP;\r\n        cc.tween(this.FillSprite)\r\n        .to (0.25, {fillStart: this._currentHP / this._maxHP})\r\n        .start();\r\n    },\r\n\r\n    decrement(damp){\r\n        cc.log(\"Health Bar Enemy \", damp);\r\n        let currentHp = this._currentHP - damp;\r\n        if(currentHp < 0) currentHp = 0;\r\n        this.setHP(currentHp);\r\n    },\r\n\r\n    isAlive(){\r\n        return this._currentHP > 0;\r\n    }\r\n});\r\n"]}
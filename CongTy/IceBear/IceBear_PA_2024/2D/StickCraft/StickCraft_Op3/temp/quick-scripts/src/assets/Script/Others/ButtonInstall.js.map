{"version":3,"sources":["assets\\Script\\Others\\ButtonInstall.js"],"names":["AudioManager","require","GameInfo","cc","Class","Component","properties","hideMask","Node","CTA_win","CTA_lose","start","on","EventType","TOUCH_START","installHandle","isLose","active","isWin","tween","node","repeatForever","to","scale","easing","MOUSE_DOWN","event","MOUSE_UP","log","stopAllSound","playableSDK","window","openAppStore","ExitApi","exit","dapi","openStoreUrl","mraid","sys","os","OS_ANDROID","ANDROID","open","OS_IOS","IPHONE","IPAD","install"],"mappings":"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","sourceRoot":"/","sourcesContent":["var AudioManager = require(\"AudioManager\");\r\nconst GameInfo = require(\"../Const/GameInfo\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // DhHiep\r\n        hideMask: cc.Node,\r\n        AudioManager: AudioManager,\r\n\r\n        CTA_win: cc.Node,\r\n        CTA_lose: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        // mtg && applovin\r\n        this.hideMask.on(cc.Node.EventType.TOUCH_START, this.installHandle, this);\r\n        if(GameInfo.isLose) this.CTA_win.active = false;\r\n        if(GameInfo.isWin) this.CTA_lose.active = false;\r\n\r\n        cc.tween(this.node)\r\n            .repeatForever(\r\n                cc.tween(this.node)\r\n                    .to(0.5, { scale: 0.9 })\r\n                    .to(0.5, { scale: 1 }, { easing: 'elasticOut' })\r\n            ).start();\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function (event) {\r\n            cc.tween(this.node).to(0.2, { scale: 0.9 }, this).start();\r\n        }, this);\r\n\r\n        this.node.on(cc.Node.EventType.MOUSE_UP, function (event) {\r\n            cc.tween(this.node).to(0.2, { scale: 1 }, this).start();\r\n        }, this);\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    installHandle() {\r\n        // Handle for google playable ads\r\n        cc.log(\"Click Install Handle\");\r\n        this.AudioManager.stopAllSound();\r\n\r\n\r\n\r\n        //If ad network is tiktok\r\n        if (typeof (playableSDK) != \"undefined\") {\r\n            window.playableSDK.openAppStore();\r\n            return;\r\n        }\r\n\r\n        // If ad network is google ads\r\n        if (typeof (ExitApi) != \"undefined\") {\r\n            ExitApi.exit();\r\n            return;\r\n        }\r\n\r\n        // If ad netwrok is ironsources\r\n        if (typeof (dapi) != \"undefined\") {\r\n            dapi.openStoreUrl();\r\n            return;\r\n        }\r\n\r\n        // If ad network support MRAID 2.0\r\n        if (typeof (mraid) != \"undefined\") {\r\n            if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.ANDROID) {\r\n                mraid.open(\"https://play.google.com/store/apps/details?id=com.stickman.craftman\");\r\n                return;\r\n            }\r\n\r\n            if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.IPHONE || cc.sys.os == cc.sys.IPAD) {\r\n                mraid.open(\"https://itunes.apple.com/us/app/id1629824246?mt=8\");\r\n                return;\r\n            }\r\n\r\n            mraid.open(\"https://play.google.com/store/apps/details?id=com.stickman.craftman\");\r\n            return;\r\n        }\r\n        // If ad network is mindwork. window alway avaiable so skip undefined check\r\n        window.install && window.install();\r\n    },\r\n\r\n});\r\n"]}
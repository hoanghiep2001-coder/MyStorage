{"version":3,"sources":["assets\\src\\mine\\MinePiece.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { PIECE_STATE, PIECE_TYPE, PIECE_HINT } from \"./MineConstans\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class Piece extends cc.Component {\r\n\r\n    @property(cc.Sprite)\r\n    private pieceSprite: cc.Sprite = null;\r\n    @property(cc.SpriteFrame)\r\n    private picPending: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picFlag: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picDeath: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen0: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen1: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen2: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen3: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen4: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen5: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen6: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen7: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    private picOpen8: cc.SpriteFrame = null;\r\n\r\n    public x: number = 0;\r\n    public y: number = 0;\r\n    private _state = PIECE_STATE.PENDING;\r\n\r\n    public get state(): PIECE_STATE {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: PIECE_STATE) {\r\n        this._state = value;\r\n        switch (this.state) {\r\n            case PIECE_STATE.PENDING:\r\n                this.pieceSprite.spriteFrame = this.picPending;\r\n                break;\r\n            case PIECE_STATE.FLAG:\r\n                this.pieceSprite.spriteFrame = this.picFlag;\r\n                break;\r\n            case PIECE_STATE.OPEN:\r\n                this.setSpriteByType();\r\n                break;\r\n            default:\r\n                cc.error(\"unknown state!\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    private setSpriteByType() {\r\n        switch (this.type) {\r\n            case PIECE_TYPE.OPEN0:\r\n                this.pieceSprite.spriteFrame = this.picOpen0;\r\n                break;\r\n            case PIECE_TYPE.OPEN1:\r\n                this.pieceSprite.spriteFrame = this.picOpen1;\r\n                break;\r\n            case PIECE_TYPE.OPEN2:\r\n                this.pieceSprite.spriteFrame = this.picOpen2;\r\n                break;\r\n            case PIECE_TYPE.OPEN3:\r\n                this.pieceSprite.spriteFrame = this.picOpen3;\r\n                break;\r\n            case PIECE_TYPE.OPEN4:\r\n                this.pieceSprite.spriteFrame = this.picOpen4;\r\n                break;\r\n            case PIECE_TYPE.OPEN5:\r\n                this.pieceSprite.spriteFrame = this.picOpen5;\r\n                break;\r\n            case PIECE_TYPE.OPEN6:\r\n                this.pieceSprite.spriteFrame = this.picOpen6;\r\n                break;\r\n            case PIECE_TYPE.OPEN7:\r\n                this.pieceSprite.spriteFrame = this.picOpen7;\r\n                break;\r\n            case PIECE_TYPE.OPEN8:\r\n                this.pieceSprite.spriteFrame = this.picOpen8;\r\n                break;\r\n            case PIECE_TYPE.BOMB:\r\n                this.pieceSprite.spriteFrame = this.picDeath;\r\n        }\r\n    }\r\n\r\n    private _type = PIECE_TYPE.OPEN0;\r\n\r\n    public get type() {\r\n        return this._type;\r\n    }\r\n    public set type(value:PIECE_TYPE) {\r\n        this._type = value;\r\n        this.setSpriteByType();\r\n    }\r\n\r\n    init(x: number, y: number, type: PIECE_TYPE, state: PIECE_STATE) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.state = state;\r\n        this.type = type;\r\n    }\r\n\r\n}"]}
{"version":3,"sources":["assets\\src\\link\\LinkPiece.ts"],"names":[],"mappings":";;;;;;AAAA,iDAA8C;AAExC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA2B,yBAAY;IAAvC;QAAA,qEAwCC;QArCW,YAAM,GAAc,IAAI,CAAC;QAEzB,gBAAU,GAAmB,IAAI,CAAC;QAEnC,OAAC,GAAW,CAAC,CAAC;QACd,OAAC,GAAW,CAAC,CAAC;QACd,UAAI,GAAW,CAAC,CAAC;QACjB,WAAK,GAAgB,2BAAW,CAAC,IAAI,CAAC;;IA8BjD,CAAC;IA5BU,oBAAI,GAAX,UAAY,CAAS,EAAE,CAAS,EAAE,IAAY,EAAE,KAAwB;QAAxB,sBAAA,EAAA,QAAQ,2BAAW,CAAC,IAAI;QACpE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC;IAEM,uBAAO,GAAd,UAAe,IAAY;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAG,IAAI,KAAK,CAAC,EAAE;YACX,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;SAClC;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;SAC5E;IACL,CAAC;IAEM,wBAAQ,GAAf,UAAgB,KAAkB;QAC9B,IAAG,KAAK,KAAK,IAAI,CAAC,KAAK,EAAE;YACrB,OAAO;SACV;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,KAAK,KAAK,2BAAW,CAAC,IAAI,EAAE;YAC5B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;SACpC;aAAM,IAAG,KAAK,KAAK,2BAAW,CAAC,KAAK,EAAE;YACnC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC;SACnC;IACL,CAAC;IAnCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;yCACa;IAEjC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;6CACiB;IALjC,KAAK;QADjB,OAAO;OACK,KAAK,CAwCjB;IAAD,YAAC;CAxCD,AAwCC,CAxC0B,EAAE,CAAC,SAAS,GAwCtC;AAxCY,sBAAK","file":"","sourceRoot":"/","sourcesContent":["import { PIECE_STATE } from \"./LinkConstants\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class Piece extends cc.Component {\r\n\r\n    @property(cc.Sprite)\r\n    private sprite: cc.Sprite = null;\r\n    @property(cc.SpriteAtlas)\r\n    private herosAtlas: cc.SpriteAtlas = null;\r\n\r\n    public x: number = 0;\r\n    public y: number = 0;\r\n    public type: number = 0;\r\n    public state: PIECE_STATE = PIECE_STATE.IDLE;\r\n\r\n    public init(x: number, y: number, type: number, state = PIECE_STATE.IDLE) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.setType(type);\r\n        this.setState(state);\r\n    }\r\n    \r\n    public setType(type: number) {\r\n        this.type = type;\r\n        if(type === 0) {\r\n            this.sprite.spriteFrame = null;\r\n        } else {\r\n            this.sprite.spriteFrame = this.herosAtlas.getSpriteFrame(\"hero_\" + type);\r\n        }\r\n    }\r\n\r\n    public setState(state: PIECE_STATE) {\r\n        if(state === this.state) {\r\n            return;\r\n        }\r\n        this.state = state;\r\n        if (state === PIECE_STATE.IDLE) {\r\n            this.node.color = cc.Color.WHITE;\r\n        } else if(state === PIECE_STATE.PRESS) {\r\n            this.node.color = cc.Color.GRAY;\r\n        }\r\n    }\r\n\r\n}"]}
{"version":3,"sources":["assets\\src\\G.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameRoot } from \"./shared/GameRoot\";\r\n\r\nclass GlobalInstance {\r\n\r\n    public static readonly Instance: GlobalInstance = new GlobalInstance();\r\n    public gameRoot: GameRoot = null;\r\n\r\n    private constructor() {\r\n    }\r\n\r\n    public enterHall() {\r\n        cc.director.loadScene(\"hall\");\r\n    }\r\n\r\n    public returnHall() {\r\n        cc.director.loadScene(\"hall\");\r\n    }\r\n\r\n    public enterGobang() {\r\n        this.loadSceneWithProgress(\"gobang\");\r\n    }\r\n\r\n    public enterReversi() {\r\n        this.loadSceneWithProgress(\"reversi\");\r\n    }\r\n\r\n    public enter2048() {\r\n        this.loadSceneWithProgress(\"2048\");\r\n    }\r\n\r\n    public enterJump() {\r\n        this.loadSceneWithProgress(\"jump\");\r\n    }\r\n\r\n    public enterPuzzle() {\r\n        this.loadSceneWithProgress(\"puzzle\");\r\n    }\r\n\r\n    public enterGet47() {\r\n        this.loadSceneWithProgress(\"get47\");\r\n    }\r\n\r\n    public enterTetris() {\r\n        this.loadSceneWithProgress(\"tetris\");\r\n    }\r\n\r\n    public enterMine() {\r\n        this.loadSceneWithProgress(\"mine\");\r\n    }\r\n\r\n    public enterLink() {\r\n        this.loadSceneWithProgress(\"link\");\r\n    }\r\n\r\n    public enterSnake() {\r\n        this.loadSceneWithProgress(\"snake\");\r\n    }\r\n\r\n    public enterBrick() {\r\n        this.loadSceneWithProgress(\"brick\");\r\n    }\r\n\r\n    public enterPinball() {\r\n        this.loadSceneWithProgress(\"pinball\");\r\n    }\r\n\r\n    private setLoadingDisplay() {\r\n        if (cc.sys.isNative) {\r\n            return;\r\n        }\r\n        // Loading splash scene\r\n        let splash = document.getElementById('splash');\r\n        let progressBar = splash.querySelector('.progress-bar span');\r\n        (cc.loader as any).onProgress = function (completedCount, totalCount, item) {\r\n            let percent = 100 * completedCount / totalCount;\r\n            if (progressBar) {\r\n                (progressBar as any).style.width = percent.toFixed(2) + '%';\r\n            }\r\n        };\r\n        splash.style.display = 'block';\r\n        (progressBar as any).style.width = '0%';\r\n\r\n        cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function () {\r\n            splash.style.display = 'none';\r\n        });\r\n    }\r\n\r\n    private loadSceneWithProgress(scene: string, cb?: Function) {\r\n        this.setLoadingDisplay();\r\n        cc.director.preloadScene(scene, () => {\r\n            setTimeout(() => {\r\n                cc.director.loadScene(scene, cb);\r\n            }, 1000);\r\n        });\r\n    }\r\n\r\n    public setResolutionPolicy() {\r\n        let f = function () {\r\n            if (cc.sys.isMobile) {\r\n                cc.log('手机场景适配');\r\n                cc.view.setDesignResolutionSize(720, 1280, cc.ResolutionPolicy.FIXED_WIDTH);\r\n                cc.Canvas.instance['alignWithScreen']();\r\n            } else {\r\n                cc.log('电脑场景适配');\r\n                cc.view.setDesignResolutionSize(720, 1280, cc.ResolutionPolicy.SHOW_ALL);\r\n                cc.Canvas.instance['alignWithScreen']();\r\n            }\r\n        }\r\n        f();\r\n        cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LOADING, f);\r\n    }\r\n}\r\n\r\nexport const G = GlobalInstance.Instance;\r\n"]}